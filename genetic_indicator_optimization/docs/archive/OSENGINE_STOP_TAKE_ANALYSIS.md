# üìä –ê–ù–ê–õ–ò–ó –ü–û–î–•–û–î–û–í –ö –°–¢–û–ü-–õ–û–°–°–ê–ú –ò –¢–ï–ô–ö-–ü–†–û–§–ò–¢–ê–ú –í OSENGINE

**–î–∞—Ç–∞:** 2025-11-16  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ OsEngine  
**–¶–µ–ª—å:** –í—ã—è–≤–∏—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üéØ –û–ë–ó–û–†

–í OsEngine –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—é —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–≤ –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–≤. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∏—Ö –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

---

## üìã –ö–ê–¢–ï–ì–û–†–ò–ò –ü–û–î–•–û–î–û–í

### 1. –ü–†–û–¶–ï–ù–¢–ù–´–ô –ü–û–î–•–û–î (–æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø –∏ —Ç–µ–π–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ (EntryPrice).

**–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞:**

#### 1.1. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```csharp
// –ò–∑ ChangePriceBotExtStopMarket.cs
if (pos.Direction == Side.Buy)
{
    decimal priceStop = pos.EntryPrice - pos.EntryPrice * (StopPercent.ValueDecimal / 100);
    decimal priceProfit = pos.EntryPrice + pos.EntryPrice * (ProfitPercent.ValueDecimal / 100);
    
    _tab.CloseAtStopMarket(pos, priceStop);
    _tab.CloseAtProfitMarket(pos, priceProfit);
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –õ–µ–≥–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ –ì–ê
- ‚ö†Ô∏è –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∂—ë—Å—Ç–∫–∏–º –¥–ª—è –∫—Ä–∏–ø—Ç–æ

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–û–¢–õ–ò–ß–ù–û)
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è MVP
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `stop_loss_pct` [0.5%, 5%], `take_profit_pct` [1%, 10%]

#### 1.2. –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞–ª–∏—á–∏—è —Å—Ç–æ–ø–∞
```csharp
// –ò–∑ Lesson8Bot1.cs
if (pos.StopOrderPrice != 0)
{
    continue; // –°—Ç–æ–ø —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
}

decimal stopPrice = pos.EntryPrice - _tabToTrade.Security.PriceStep * _stopPriceStep.ValueInt;
decimal profitPrice = pos.EntryPrice + _tabToTrade.Security.PriceStep * _profitPriceStep.ValueInt;

_tabToTrade.CloseAtStopMarket(pos, stopPrice);
_tabToTrade.CloseAtProfitMarket(pos, profitPrice);
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å—Ç–æ–ø –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞.

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–û–¢–õ–ò–ß–ù–û)

---

### 2. –ü–û–î–•–û–î –ù–ê –û–°–ù–û–í–ï PRICE STEP

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø –∏ —Ç–µ–π–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —à–∞–≥–∞—Ö —Ü–µ–Ω—ã (PriceStep), –∞ –Ω–µ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö.

**–ü—Ä–∏–º–µ—Ä:**
```csharp
// –ò–∑ Lesson8Bot1.cs
decimal stopPrice = pos.EntryPrice - _tabToTrade.Security.PriceStep * _stopPriceStep.ValueInt;
decimal profitPrice = pos.EntryPrice + _tabToTrade.Security.PriceStep * _profitPriceStep.ValueInt;
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤/–æ–ø—Ü–∏–æ–Ω–æ–≤
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω (–Ω—É–∂–µ–Ω PriceStep)
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** ‚≠ê‚≠ê‚≠ê (–•–û–†–û–®–û)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—Ä–∏–ø—Ç–æ, –Ω–æ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–æ—â–µ

---

### 3. –ü–û–î–•–û–î –ù–ê –û–°–ù–û–í–ï –≠–ö–°–¢–†–ï–ú–£–ú–û–í –°–í–ï–ß–ï–ô

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç–∫—Å—Ç—Ä–µ–º—É–º–∞ (Low/High) –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–≤–µ—á–∏.

**–ü—Ä–∏–º–µ—Ä—ã:**

#### 3.1. –°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–≤–µ—á–∏
```csharp
// –ò–∑ PriceChannelBreak.cs
if (openPositions[i].Direction == Side.Buy)
{
    decimal lowCandle = _tab.CandlesAll[_tab.CandlesAll.Count - 2].Low;
    _tab.CloseAtStop(openPositions[i], lowCandle, lowCandle - _slippage.ValueInt * _tab.Security.PriceStep);
}
else
{
    decimal highCandle = _tab.CandlesAll[_tab.CandlesAll.Count - 2].High;
    _tab.CloseAtStop(openPositions[i], highCandle, highCandle + _slippage.ValueInt * _tab.Security.PriceStep);
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä—ã–Ω–∫–∞
- ‚úÖ –°—Ç–æ–ø –∑–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–æ–º —Å–≤–µ—á–∏ ‚Äî –ª–æ–≥–∏—á–Ω–æ
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ (—Ä–∏—Å–∫ –ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–æ–µ–≤)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å slippage

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –∫–∞–∫–æ–π —ç–∫—Å—Ç—Ä–µ–º—É–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–ø–æ—Å–ª–µ–¥–Ω–∏–π, –ø—Ä–µ–¥—ã–¥—É—â–∏–π, N —Å–≤–µ—á–µ–π –Ω–∞–∑–∞–¥)

#### 3.2. –°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–≤–µ—á–∏
```csharp
// –ò–∑ Lesson9Bot4.cs
if (position.Direction == Side.Buy)
{
    price = candles[candles.Count - 1].Low; // Low –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–≤–µ—á–∏
}
else if (position.Direction == Side.Sell)
{
    price = candles[candles.Count - 1].High; // High –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–≤–µ—á–∏
}

_tabToTrade.CloseAtStop(position, price, price);
```

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)

---

### 4. –ü–û–î–•–û–î –ù–ê –û–°–ù–û–í–ï –ò–ù–î–ò–ö–ê–¢–û–†–û–í

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø –∏ —Ç–µ–π–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

#### 4.1. Price Channel (–∫–∞–Ω–∞–ª —Ü–µ–Ω—ã)
```csharp
// –ò–∑ PriceChannelBreak.cs
// –°—Ç–æ–ø –Ω–∞ –Ω–∏–∂–Ω–µ–π –ª–∏–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ª–æ–Ω–≥–∞
_tab.CloseAtStop(openPositions[i], lowCandle, lowCandle - slippage);

// –¢–µ–π–∫ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –∫–∞–Ω–∞–ª–∞
_tab.CloseAtProfit(
    openPositions[i], 
    _lastPrice + (_lastPcUp - _lastPcDown), // Entry + —Ä–∞–∑–º–µ—Ä –∫–∞–Ω–∞–ª–∞
    (_lastPrice + (_lastPcUp - _lastPcDown)) - slippage
);
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (–∫–∞–Ω–∞–ª —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è/—Å—É–∂–∞–µ—Ç—Å—è)
- ‚úÖ –õ–æ–≥–∏—á–Ω–æ –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–º –≤ –±–æ–∫–æ–≤–∏–∫–µ

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)
- –û—Ç–ª–∏—á–Ω–æ –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–µ—Ä–∏–æ–¥ –∫–∞–Ω–∞–ª–∞, –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –∫–∞–Ω–∞–ª–∞

#### 4.2. Parabolic SAR
```csharp
// –ò–∑ ParabolicPriceChannel.cs
if (position.Direction == Side.Buy)
{
    _tab.CloseAtTrailingStop(position, _lastParabolicStop, _lastParabolicStop - slippage);
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç—Ä–µ–Ω–¥—É
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ trailing stop
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –∑–∞–ø–∞–∑–¥—ã–≤–∞—Ç—å –≤ –±–æ–∫–æ–≤–∏–∫–µ

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê (–•–û–†–û–®–û)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

#### 4.3. Trailing Stop –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
```csharp
// –ò–∑ PriceChannelTrendAtrFilter.cs
if(position.Direction == Side.Buy)
{
    _tab.CloseAtTrailingStopMarket(position, lastPcDown); // –ù–∏–∂–Ω—è—è –ª–∏–Ω–∏—è –∫–∞–Ω–∞–ª–∞
}
if (position.Direction == Side.Sell)
{
    _tab.CloseAtTrailingStopMarket(position, lastPcUp); // –í–µ—Ä—Ö–Ω—è—è –ª–∏–Ω–∏—è –∫–∞–Ω–∞–ª–∞
}
```

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)

---

### 5. TRAILING STOP (–°–õ–ï–î–Ø–©–ò–ô –°–¢–û–ü)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–±—ã–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É, –Ω–æ –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è –≤ —É–±—ã—Ç–æ—á–Ω—É—é.

#### 5.1. Trailing Stop –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
```csharp
// –ò–∑ ZigZagChannelScreenerRsiFilter.cs
decimal lastClose = candles[candles.Count - 1].Close;
decimal stop = lastClose - lastClose * (_trailStop.ValueDecimal / 100);
decimal stopWithSlippage = stop - stop * (_slippage.ValueDecimal / 100);

tab.CloseAtTrailingStop(position, stop, stopWithSlippage);
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å—Ç–∏
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)
- –û—Ç–ª–∏—á–Ω–æ –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø—Ä–æ—Ü–µ–Ω—Ç trailing stop [0.5%, 3%]

#### 5.2. Trailing Stop –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
```csharp
// –ò–∑ ParabolicPriceChannel.cs
_tab.CloseAtTrailingStop(position, _lastParabolicStop, _lastParabolicStop - slippage);
```

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)

---

### 6. ATR-BASED –ü–û–î–•–û–î–´

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ–ø –∏ —Ç–µ–π–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR (Average True Range) ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ATR:**

#### 6.1. ATR –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä –≤—Ö–æ–¥–∞
```csharp
// –ò–∑ PriceChannelTrendAtrFilter.cs
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ—Å—Ç–∞ ATR –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º
decimal atrLast = _atr.DataSeries[0].Values[_atr.DataSeries[0].Values.Count - 1];
decimal atrLookBack = _atr.DataSeries[0].Values[_atr.DataSeries[0].Values.Count - 1 - _atrGrowLookBack.ValueInt];
decimal atrGrowPercent = atrLast / (atrLookBack / 100) - 100;

if (atrGrowPercent < _atrGrowPercent.ValueDecimal)
{
    return; // –ù–µ –≤—Ö–æ–¥–∏–º, –µ—Å–ª–∏ ATR –Ω–µ –≤—ã—Ä–æ—Å
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í OsEngine ATR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–∞–∫ **—Ñ–∏–ª—å—Ç—Ä**, –∞ –Ω–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–ø–æ–≤ –Ω–∞–ø—Ä—è–º—É—é. –ù–æ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–∏–º–∞.

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ATR –¥–ª—è —Å—Ç–æ–ø–æ–≤:**
```csharp
// –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä (–Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–¥–µ, –Ω–æ –ª–æ–≥–∏—á–µ–Ω)
decimal atr = _atr.DataSeries[0].Last;
decimal stopPrice = pos.EntryPrice - atr * atrMultiplier; // –Ω–∞–ø—Ä–∏–º–µ—Ä, 2 * ATR
decimal profitPrice = pos.EntryPrice + atr * atrMultiplier; // –Ω–∞–ø—Ä–∏–º–µ—Ä, 3 * ATR
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–Ω–æ–∂–∏—Ç–µ–ª—è ATR
- ‚ö†Ô∏è –ù—É–∂–µ–Ω —Ä–∞—Å—á—ë—Ç ATR

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–û–¢–õ–ò–ß–ù–û)
- **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** –¥–ª—è –∫—Ä–∏–ø—Ç–æ (–≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `atr_period` [8, 20], `atr_multiplier_sl` [1.5, 4.0], `atr_multiplier_tp` [2.0, 6.0]

---

### 7. –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –¢–ï–ô–ö-–ü–†–û–§–ò–¢–´

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–∞—Å—Ç—è–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞.

**–ü—Ä–∏–º–µ—Ä:**
```csharp
// –ò–∑ TelegramCryptoXBot.cs
if (signal.TakeProfits.Count > 0)
{
    decimal vol = Math.Round(pos.OpenVolume / signal.TakeProfits.Count, tab.Security.DecimalsVolume);
    
    for (int i = 0; i < signal.TakeProfits.Count; i++)
    {
        decimal priceProfit = Math.Round(signal.TakeProfits[i], tab.Security.Decimals);
        tab.CloseAtLimitUnsafe(pos, priceProfit, vol); // –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
    }
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –§–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–∏–±—ã–ª—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç —á–∞—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏ "–µ—Ö–∞—Ç—å –¥–∞–ª—å—à–µ"
- ‚ö†Ô∏è –£—Å–ª–æ–∂–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê (–•–û–†–û–®–û)
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —ç—Ç–∞–ø 2
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–π–∫–æ–≤ [1, 3], —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä—ë–º–∞

---

### 8. STOPORDERREDLINE (–ö–†–ê–°–ù–ê–Ø –õ–ò–ù–ò–Ø –°–¢–û–ü–ê)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `StopOrderRedLine` ‚Äî —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É.

**–ü—Ä–∏–º–µ—Ä:**
```csharp
// –ò–∑ PlateDetectorScreener.cs
if (position.StopOrderRedLine == 0)
{
    decimal stopPrice = position.EntryPrice - position.EntryPrice * (_stopPercent.ValueDecimal / 100);
    position.StopOrderRedLine = stopPrice; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—Ä–∞—Å–Ω—É—é –ª–∏–Ω–∏—é
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
decimal bestSellPrice = tab.PriceBestAsk;
if (bestSellPrice <= position.StopOrderRedLine || position.SignalTypeClose == "Stop")
{
    // –û—Ç–º–µ–Ω—è–µ–º —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç
    if (position.CloseActive == true && position.SignalTypeClose != "Stop")
    {
        tab.CloseAllOrderToPosition(position);
    }
    
    position.SignalTypeClose = "Stop";
    tab.CloseAtMarket(position, position.OpenVolume); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ —Ä—ã–Ω–∫—É
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ì–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥: —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –∑–∞—Ç–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ä—ã–Ω–∫—É
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ —Å—Ç–æ–ø–∞
- ‚ö†Ô∏è –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚ö†Ô∏è –†–∏—Å–∫ slippage –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ —Ä—ã–Ω–∫—É

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê (–•–û–†–û–®–û)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

### 9. MARKET VS LIMIT –û–†–î–ï–†–ê –î–õ–Ø –°–¢–û–ü–û–í

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç–æ–ø–æ–≤ ‚Äî —á–µ—Ä–µ–∑ market –∏–ª–∏ limit –æ—Ä–¥–µ—Ä–∞.

#### 9.1. CloseAtStopMarket
```csharp
// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ä—ã–Ω–∫—É –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
_tab.CloseAtStopMarket(pos, priceStop);
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚ö†Ô∏è –†–∏—Å–∫ slippage
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å—Å—è —Ö—É–∂–µ —Ü–µ–Ω—ã

#### 9.2. CloseAtStop (Limit)
```csharp
// –°—Ç–æ–ø-–ª–∏–º–∏—Ç –æ—Ä–¥–µ—Ä
_tab.CloseAtStop(position, priceStop, priceStopWithSlippage);
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –≥—ç–ø–∞—Ö
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å slippage

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)
- –î–ª—è –∫—Ä–∏–ø—Ç–æ: **Market** –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ (–≤—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, –±—ã—Å—Ç—Ä—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è)

---

### 10. –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ï –ü–ï–†–ï–ú–ï–©–ï–ù–ò–ï –°–¢–û–ü–ê –í –ë–ï–ó–£–ë–´–¢–û–ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ —Å—Ç–æ–ø –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ –±–µ–∑—É–±—ã—Ç–æ–∫.

**–ü—Ä–∏–º–µ—Ä:**
```csharp
// –ò–∑ TelegramCryptoXBot.cs
if (pos.Direction == Side.Buy)
{
    if (lastCandle.Close > signal.TakeProfits[1]) // –î–æ—Å—Ç–∏–≥–ª–∏ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ–π–∫–∞
    {
        tab.CloseAtStopMarket(pos, pos.EntryPrice, "stop without loss");
        // –°—Ç–æ–ø –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤ EntryPrice (–±–µ–∑—É–±—ã—Ç–æ–∫)
    }
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç —É–±—ã—Ç–∫–æ–≤ –ø–æ—Å–ª–µ —á–∞—Å—Ç–∏—á–Ω–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç "–µ—Ö–∞—Ç—å –¥–∞–ª—å—à–µ" –±–µ–∑ —Ä–∏—Å–∫–∞
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏

**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–û–ß–ï–ù–¨ –•–û–†–û–®–û)
- –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (–∫–∞–∫–æ–π —Ç–µ–π–∫ –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å)

---

## üèÜ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ü–û–î–•–û–î–´ –î–õ–Ø –ù–ê–®–ï–ì–û –ü–†–û–ï–ö–¢–ê

### üî¥ –ü–†–ò–û–†–ò–¢–ï–¢ 1: MVP (–≠—Ç–∞–ø 0)

#### 1. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```python
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
stop_loss = entry_price * (1 - stop_loss_pct / 100)
take_profit = entry_price * (1 + take_profit_pct / 100)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ì–ê:**
- `stop_loss_pct`: [0.5%, 5%] —Å —à–∞–≥–æ–º 0.1%
- `take_profit_pct`: [1%, 10%] —Å —à–∞–≥–æ–º 0.1%
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** `take_profit_pct > stop_loss_pct * 1.5` (–º–∏–Ω–∏–º—É–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 1.5:1)

**–ü–æ—á–µ–º—É:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –õ–µ–≥–∫–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

### üü° –ü–†–ò–û–†–ò–¢–ï–¢ 2: –≠—Ç–∞–ø 1

#### 2. ATR-based –ø–æ–¥—Ö–æ–¥ (–≥–∏–±—Ä–∏–¥–Ω—ã–π)
```python
# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è: –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç + ATR –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
base_stop_pct = stop_loss_pct  # –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç
atr_multiplier = atr_multiplier_sl  # –ú–Ω–æ–∂–∏—Ç–µ–ª—å ATR

# –ï—Å–ª–∏ ATR –≤—ã—Å–æ–∫–∏–π - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—Ç–æ–ø
if current_atr > atr_threshold:
    stop_loss = entry_price * (1 - base_stop_pct / 100) - atr * atr_multiplier
else:
    stop_loss = entry_price * (1 - base_stop_pct / 100)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ì–ê:**
- `base_stop_pct`: [0.5%, 3%]
- `atr_period`: [8, 20]
- `atr_multiplier_sl`: [0.5, 2.0]
- `atr_threshold`: [50-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å ATR –∑–∞ –ø–µ—Ä–∏–æ–¥]

**–ü–æ—á–µ–º—É:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∏–ø—Ç–æ
- ‚úÖ –ù–µ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ

#### 3. –°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ —Å–≤–µ—á–∏
```python
# –î–ª—è –ª–æ–Ω–≥–∞: —Å—Ç–æ–ø –Ω–∏–∂–µ Low –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–≤–µ—á–∏
stop_loss = previous_candle_low - slippage_buffer

# –î–ª—è —à–æ—Ä—Ç–∞: —Å—Ç–æ–ø –≤—ã—à–µ High –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–≤–µ—á–∏
stop_loss = previous_candle_high + slippage_buffer
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –ö–∞–∫–∞—è —Å–≤–µ—á–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: [–ø—Ä–µ–¥—ã–¥—É—â–∞—è, 2 —Å–≤–µ—á–∏ –Ω–∞–∑–∞–¥]
- `slippage_buffer`: [0.1%, 0.5%]

---

### üü¢ –ü–†–ò–û–†–ò–¢–ï–¢ 3: –≠—Ç–∞–ø 2+

#### 4. Trailing Stop
```python
# –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π trailing stop
if position_profit > trailing_activation_pct:
    trailing_stop = current_price * (1 - trailing_stop_pct / 100)
    if trailing_stop > current_stop:
        stop_loss = trailing_stop  # –ü–æ–¥—Ç—è–≥–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–≤–µ—Ä—Ö
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `trailing_activation_pct`: [0.5%, 2%] ‚Äî –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
- `trailing_stop_pct`: [0.5%, 3%] ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—ã

#### 5. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã
```python
# –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–∞—Å—Ç—è–º–∏
take_profit_1 = entry_price * (1 + tp1_pct / 100)  # 50% –ø–æ–∑–∏—Ü–∏–∏
take_profit_2 = entry_price * (1 + tp2_pct / 100)  # 30% –ø–æ–∑–∏—Ü–∏–∏
take_profit_3 = entry_price * (1 + tp3_pct / 100)  # 20% –ø–æ–∑–∏—Ü–∏–∏
```

#### 6. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ø –≤ –±–µ–∑—É–±—ã—Ç–æ–∫
```python
# –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ç–µ–π–∫–∞
if first_take_profit_hit:
    stop_loss = entry_price  # –ü–µ—Ä–µ–Ω–æ—Å–∏–º –≤ –±–µ–∑—É–±—ã—Ç–æ–∫
```

---

## üìä –°–†–ê–í–ù–ò–¢–ï–õ–¨–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ü–û–î–•–û–î–û–í

| –ü–æ–¥—Ö–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å | –î–ª—è –∫—Ä–∏–ø—Ç–æ | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ –ì–ê | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-----------|--------------|------------|------------------|--------------|
| **–ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π** | ‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ MVP |
| **Price Step** | ‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚ö†Ô∏è –î–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤ |
| **–≠–∫—Å—Ç—Ä–µ–º—É–º —Å–≤–µ—á–∏** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ –≠—Ç–∞–ø 1 |
| **Price Channel** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚úÖ –î–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö |
| **ATR-based** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø** |
| **Trailing Stop** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚úÖ –≠—Ç–∞–ø 2 |
| **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ TP** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚ö†Ô∏è –≠—Ç–∞–ø 2+ |
| **–ë–µ–∑—É–±—ã—Ç–æ–∫** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚úÖ –≠—Ç–∞–ø 1+ |

---

## üéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è MVP (–≠—Ç–∞–ø 0):
1. ‚úÖ **–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–æ–ø —É–∂–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. ‚úÖ Market –æ—Ä–¥–µ—Ä–∞ –¥–ª—è —Å—Ç–æ–ø–æ–≤ (–±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

### –î–ª—è –≠—Ç–∞–ø–∞ 1:
1. ‚úÖ **ATR-based –ø–æ–¥—Ö–æ–¥** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–∫ –æ–ø—Ü–∏—é
2. ‚úÖ **–°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ —Å–≤–µ—á–∏** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
3. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ø –≤ –±–µ–∑—É–±—ã—Ç–æ–∫** ‚Äî –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ–π–∫–∞

### –î–ª—è –≠—Ç–∞–ø–∞ 2:
1. ‚úÖ **Trailing Stop** ‚Äî –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
2. ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã** ‚Äî –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏
3. ‚úÖ **–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥–æ–≤** ‚Äî –≥–∏–±—Ä–∏–¥–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

## üíª –ü–†–ò–ú–ï–†–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –î–õ–Ø –ù–ê–®–ï–ì–û –ü–†–û–ï–ö–¢–ê

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```python
def calculate_stop_take_profit(entry_price, direction, stop_pct, take_profit_pct):
    """
    –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    
    Parameters:
    - entry_price: —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞
    - direction: 'buy' –∏–ª–∏ 'sell'
    - stop_pct: –ø—Ä–æ—Ü–µ–Ω—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.0 –¥–ª—è 2%)
    - take_profit_pct: –ø—Ä–æ—Ü–µ–Ω—Ç —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4.0 –¥–ª—è 4%)
    """
    if direction == 'buy':
        stop_loss = entry_price * (1 - stop_pct / 100)
        take_profit = entry_price * (1 + take_profit_pct / 100)
    else:  # sell
        stop_loss = entry_price * (1 + stop_pct / 100)
        take_profit = entry_price * (1 - take_profit_pct / 100)
    
    return stop_loss, take_profit
```

### –ü—Ä–∏–º–µ—Ä 2: ATR-based –ø–æ–¥—Ö–æ–¥
```python
def calculate_atr_based_stop_take(entry_price, direction, atr, atr_mult_sl, atr_mult_tp):
    """
    ATR-based –ø–æ–¥—Ö–æ–¥
    
    Parameters:
    - entry_price: —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞
    - direction: 'buy' –∏–ª–∏ 'sell'
    - atr: —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ATR
    - atr_mult_sl: –º–Ω–æ–∂–∏—Ç–µ–ª—å ATR –¥–ª—è —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.0)
    - atr_mult_tp: –º–Ω–æ–∂–∏—Ç–µ–ª—å ATR –¥–ª—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3.0)
    """
    if direction == 'buy':
        stop_loss = entry_price - atr * atr_mult_sl
        take_profit = entry_price + atr * atr_mult_tp
    else:  # sell
        stop_loss = entry_price + atr * atr_mult_sl
        take_profit = entry_price - atr * atr_mult_tp
    
    return stop_loss, take_profit
```

### –ü—Ä–∏–º–µ—Ä 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–æ—Ü–µ–Ω—Ç + ATR)
```python
def calculate_hybrid_stop_take(entry_price, direction, base_stop_pct, base_tp_pct, 
                                atr, atr_mult_sl, atr_mult_tp, use_atr=True):
    """
    –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç + ATR –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    
    Parameters:
    - use_atr: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ ATR –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    """
    if direction == 'buy':
        base_stop = entry_price * (1 - base_stop_pct / 100)
        base_tp = entry_price * (1 + base_tp_pct / 100)
        
        if use_atr:
            # ATR –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: —Ä–∞—Å—à–∏—Ä—è–µ–º —Å—Ç–æ–ø –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
            atr_adjustment_sl = atr * atr_mult_sl
            atr_adjustment_tp = atr * atr_mult_tp
            
            stop_loss = base_stop - atr_adjustment_sl
            take_profit = base_tp + atr_adjustment_tp
        else:
            stop_loss = base_stop
            take_profit = base_tp
    else:  # sell
        base_stop = entry_price * (1 + base_stop_pct / 100)
        base_tp = entry_price * (1 - base_tp_pct / 100)
        
        if use_atr:
            atr_adjustment_sl = atr * atr_mult_sl
            atr_adjustment_tp = atr * atr_mult_tp
            
            stop_loss = base_stop + atr_adjustment_sl
            take_profit = base_tp - atr_adjustment_tp
        else:
            stop_loss = base_stop
            take_profit = base_tp
    
    return stop_loss, take_profit
```

### –ü—Ä–∏–º–µ—Ä 4: –°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ —Å–≤–µ—á–∏
```csharp
def calculate_candle_extreme_stop(entry_price, direction, candles, candle_offset=1, slippage_pct=0.1):
    """
    –°—Ç–æ–ø –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–µ —Å–≤–µ—á–∏
    
    Parameters:
    - candles: —Å–ø–∏—Å–æ–∫ —Å–≤–µ—á–µ–π
    - candle_offset: –∫–∞–∫–∞—è —Å–≤–µ—á–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (1 = –ø—Ä–µ–¥—ã–¥—É—â–∞—è, 2 = –¥–≤–µ –Ω–∞–∑–∞–¥)
    - slippage_pct: –±—É—Ñ–µ—Ä –¥–ª—è slippage –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
    """
    if len(candles) < candle_offset + 1:
        return None, None
    
    candle = candles[-candle_offset - 1]  # –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å–≤–µ—á–∞
    
    if direction == 'buy':
        stop_loss = candle.low * (1 - slippage_pct / 100)
        # –¢–µ–π–∫ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–º –∏–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–≤–µ—á–∏
        take_profit = entry_price * (1 + 2 * (entry_price - stop_loss) / entry_price)
    else:  # sell
        stop_loss = candle.high * (1 + slippage_pct / 100)
        take_profit = entry_price * (1 - 2 * (stop_loss - entry_price) / entry_price)
    
    return stop_loss, take_profit
```

---

## ‚öôÔ∏è –ü–ê–†–ê–ú–ï–¢–†–´ –î–õ–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –í –ì–ê

### –ë–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä (MVP):
```python
STOP_TAKE_PARAMETERS = {
    'stop_loss_pct': {
        'type': 'float',
        'range': [0.5, 5.0],
        'step': 0.1,
        'description': '–ü—Ä–æ—Ü–µ–Ω—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞'
    },
    'take_profit_pct': {
        'type': 'float',
        'range': [1.0, 10.0],
        'step': 0.1,
        'description': '–ü—Ä–æ—Ü–µ–Ω—Ç —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞',
        'constraint': 'take_profit_pct > stop_loss_pct * 1.5'
    }
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä (–≠—Ç–∞–ø 1):
```python
EXTENDED_STOP_TAKE_PARAMETERS = {
    # –ë–∞–∑–æ–≤—ã–µ
    'stop_loss_pct': [0.5, 5.0],
    'take_profit_pct': [1.0, 10.0],
    
    # ATR-based
    'use_atr': [True, False],  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ ATR
    'atr_period': [8, 20],
    'atr_multiplier_sl': [0.5, 3.0],
    'atr_multiplier_tp': [1.0, 5.0],
    
    # –≠–∫—Å—Ç—Ä–µ–º—É–º —Å–≤–µ—á–∏
    'use_candle_extreme': [True, False],
    'candle_offset': [1, 3],  # –ö–∞–∫–∞—è —Å–≤–µ—á–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    'slippage_buffer_pct': [0.1, 0.5],
    
    # Trailing stop
    'use_trailing_stop': [True, False],
    'trailing_activation_pct': [0.5, 2.0],
    'trailing_stop_pct': [0.5, 3.0],
    
    # –ë–µ–∑—É–±—ã—Ç–æ–∫
    'move_to_breakeven': [True, False],
    'breakeven_activation_pct': [0.5, 2.0]  # –ü—Ä–∏ –∫–∞–∫–æ–º –ø—Ä–æ—Ñ–∏—Ç–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å
}
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. Slippage (–ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ)
- **–í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å** –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ —Å—Ç–æ–ø–æ–≤
- –î–ª—è –∫—Ä–∏–ø—Ç–æ: 0.1-0.3% —Ç–∏–ø–∏—á–Ω–æ
- –î–ª—è market –æ—Ä–¥–µ—Ä–æ–≤: –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—à–µ

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ç–æ–ø–∞
- **–í–∞–∂–Ω–æ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ —Å—Ç–æ–ø –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ò–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥–∏: `StopOrderIsActive`, `StopOrderPrice != 0`

### 3. –û—Ç–º–µ–Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ —Å—Ç–æ–ø–∞
- **–•–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:** –û—Ç–º–µ–Ω—è—Ç—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –µ—Å–ª–∏ —Å—Ä–∞–±–æ—Ç–∞–ª —Å—Ç–æ–ø
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ª–∏–º–∏—Ç—ã –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ª–æ–≥–∏–∫—É

### 4. Market vs Limit –¥–ª—è —Å—Ç–æ–ø–æ–≤
- **–î–ª—è –∫—Ä–∏–ø—Ç–æ:** Market –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ (–±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
- **–î–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤:** Limit –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ (–∫–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–Ω—ã)

### 5. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä—ë–º–∞:** –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –∏–ª–∏ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–π–∫–æ–≤, —É—Ä–æ–≤–Ω–∏, –æ–±—ä—ë–º—ã

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

- `GENETIC_ALGORITHM_DESIGN.md` - –î–∏–∑–∞–π–Ω –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `UPDATED_PLAN_CRITICAL_ANALYSIS.md` - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞
- `ORDER_BOOK_INDICATORS_IMPLEMENTATION.md` - –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Order Book –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-16  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

