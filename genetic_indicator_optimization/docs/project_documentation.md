# üìò Project Documentation ‚Äî Genetic Indicator Optimization

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2.0 (19 –Ω–æ—è–±—Ä—è 2025)  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞–Ω–∏–π –æ –ø—Ä–æ–µ–∫—Ç–µ. –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã —Ü–µ–ª–∏, –¥–∞–Ω–Ω—ã–µ, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –≤—ã–≤–æ–¥—ã, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω—ã. –î–æ–∫—É–º–µ–Ω—Ç –∞–∫–∫—É–º—É–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (`docs/archive/*`), –ø–æ—ç—Ç–æ–º—É –ø–æ –Ω–µ–º—É –º–æ–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ö–æ–¥ —Ä–∞–±–æ—Ç.

---

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ü–µ–ª–∏

- **–ß—Ç–æ –¥–µ–ª–∞–µ–º:** —Å—Ç—Ä–æ–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ BTCUSDT (15-–º–∏–Ω—É—Ç–Ω—ã–µ —Å–≤–µ—á–∏) —Å –ø–æ–º–æ—â—å—é –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.  
- **–ü–æ—á–µ–º—É:** —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (RSI, MACD, Bollinger, WOBI) –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, –∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–ª–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ —Ä—ã–Ω–∫—É.  
- **–¶–µ–ª–∏:**  
  1. –î–æ—Å—Ç–∏–≥–Ω—É—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ Fitness ‚â• 200 –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π Sharpe –Ω–∞ —Ç–µ—Å—Ç–µ.  
  2. –£–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ—Å–∞–¥–∫—É < 20% –∏ –º–∏–Ω–∏–º—É–º 10 —Å–¥–µ–ª–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —Å–ø–ª–∏—Ç–µ.  
  3. –°–Ω–∏–∑–∏—Ç—å —Ä–∏—Å–∫ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –∑–∞ —Å—á—ë—Ç —à—Ç—Ä–∞—Ñ–æ–≤, walk-forward –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π search space.  
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –∫–æ–º–∏—Å—Å–∏–∏ Binance (maker 0.02%, taker 0.07%), —Å–ªippage 0.05%, –ª–∏–º–∏—Ç —Å–¥–µ–ª–æ–∫/–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–¥–µ—Ä–∂–∞–Ω–∏—è, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –∏ win rate.

---

## 2. –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ–µ–∫—Ç–∞

| –î–∞—Ç–∞ | –°–æ–±—ã—Ç–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ (–∞—Ä—Ö–∏–≤) |
|------|---------|------------------|
| –û–∫—Ç 2025 | –°–±–æ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞, –±–∞–∑–æ–≤—ã–π –±—ç–∫—Ç–µ—Å—Ç–µ—Ä, –ø–µ—Ä–≤—ã–µ —Ç–µ—Å—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ | `archive/STAGE0_BASELINE_REPORT.md` |
| 10 –Ω–æ—è 2025 | –ü–µ—Ä–≤—ã–µ –¥–≤–∞ –∑–∞–ø—É—Å–∫–∞ –ì–ê (40√ó50). –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ | `archive/GA_RUN_03_DETAILED_ANALYSIS.md` (—Ä–∞–∑–¥–µ–ª –æ –ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏–∏) |
| 18 –Ω–æ—è 2025 | –ì–ê ‚Ññ3 (100√ó100) —Å fitness –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ —à—Ç—Ä–∞—Ñ–∞–º–∏ ‚Äî –ø–µ—Ä–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è | `archive/GA_RUN_03_DETAILED_ANALYSIS.md` |
| 19 –Ω–æ—è 2025 (—É—Ç—Ä–æ) | –ü–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç —Ñ–∏–∫—Å–æ–≤: –æ–±—Ä–∞–±–æ—Ç–∫–∞ Infinity, –∂—ë—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ Long/Short, —Ç–µ—Å—Ç `scripts/test_fitness_fix.py`. –ò—Ç–æ–≥ ‚Äî –ì–ê ‚Ññ5 | `archive/GA_RUN_05_ANALYSIS.md`, `archive/IMPLEMENTATION_FITNESS_INFINITY_FIX.md`, `archive/IMPLEMENTATION_LONGSHORT_BALANCE.md` |
| 19 –Ω–æ—è 2025 (–≤–µ—á–µ—Ä) | –†–∞—Å—à–∏—Ä–∏–ª–∏ search space (–≤–µ—Å–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã MACD/Bollinger/WOBI) –∏ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –ì–ê ‚Ññ6 ‚Üí –ª—É—á—à–∞—è Val, –Ω–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ Test | `archive/GA_RUN_06_ANALYSIS.md`, `archive/IMPLEMENTATION_INDICATOR_OPTIMIZATION.md` |
| 20 –Ω–æ—è 2025 | –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –æ—Ç—á—ë—Ç—ã –≤ –∞—Ä—Ö–∏–≤–µ, —Å–æ–∑–¥–∞–Ω —Ç–µ–∫—É—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –∏ `project_plan.md` | –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª |

---

## 3. –î–∞–Ω–Ω—ã–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| –ò—Å—Ç–æ—á–Ω–∏–∫ | `dataframe/with_full_depth/df_btc_15m_complete.csv` (—Å–ø–æ—Ç Binance, 2024‚Äë01‚Äë21 ‚Üí 2025‚Äë02‚Äë25) |
| –†–∞–∑–º–µ—Ä | 38 465 —Å—Ç—Ä–æ–∫ –ø–æ—Å–ª–µ `dropna()` |
| –°–ø–ª–∏—Ç | Train 70% (–¥–æ 2024‚Äë10‚Äë28), Val 15% (–¥–æ 2024‚Äë12‚Äë27), Test 15% (–¥–æ 2025‚Äë02‚Äë25). –†–∞–∑–±–∏–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö —á–µ—Ä–µ–∑ `DataLoader.split_data`. |
| –§–∏—á–∏ | OHLCV, –ø–æ—Ç–æ–∫–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (`flow_buy_volume`, `flow_trade_imbalance`), —Å—Ç–∞–∫–∞–Ω (`ask/bid` –Ω–∞ 3/5/8/60 —É—Ä–æ–≤–Ω–µ–π), —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è (`ratio3/5/8/60`), —Ä–∞–∑–Ω–∏—Ü—ã –∏ –≥–ª—É–±–∏–Ω—ã. |

### IndicatorPipeline (`src/analysis/indicator_pipeline.py`)

1. **–í—Ö–æ–¥:** –∏—Å—Ö–æ–¥–Ω—ã–π DataFrame –∏ —Å–ª–æ–≤–∞—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.  
2. **–°–ª–∏—è–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ (`DEFAULT_PARAMS`) + GA-–≥–µ–Ω—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `wobi.weights`).  
3. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
   - RSI (`rsi_{period}`) —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø–µ—Ä–∏–æ–¥–æ–º.  
   - ATR (–¥–ª—è —Å—Ç–æ–ø–æ–≤).  
   - MACD (–ª–∏–Ω–∏—è, —Å–∏–≥–Ω–∞–ª, –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞) —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ fast/slow/signal.  
   - Bollinger Bands (mid/upper/lower/width).  
   - WOBI: —Å–≤—ë—Ä—Ç–∫–∞ –≥–ª—É–±–∏–Ω —Å—Ç–∞–∫–∞–Ω–∞ –ø–æ –≤–µ—Å–∞–º ratio3/5/8/60, –ø–ª—é—Å `wobi_zscore`.  
4. **–í—ã—Ö–æ–¥:** –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É –∏ –∫—ç—à–∏—Ä—É–µ–º—ã–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏.  
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** Rolling-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∫—ç—à –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ —à–∞–±–ª–æ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `signals.rsi.column = f"rsi_{period}"`).

---

## 4. –°—Ç—Ä–∞—Ç–µ–≥–∏—è MVP (`src/strategies/mvp_strategy.py`)

- **–°–∏–≥–Ω–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏:** RSI, MACD, Bollinger, WOBI (–∏ —Ä–µ–∑–µ—Ä–≤ –ø–æ–¥ order-flow). –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞—é—Ç—Å—è –≤–µ—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏ –ø–æ—Ä–æ–≥–∏.  
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤:**  
  - –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞ ‚Üí –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π score.  
  - –ê—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ `long_signal_multiplier` –∏ `short_signal_multiplier`.  
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –≤—Ö–æ–¥–∞ `entry_threshold_long` / `entry_threshold_short`.  
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–µ–π:** ATR stop-loss, ATR trailing, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ (8 –±–∞—Ä–æ–≤), cooldown 4 –±–∞—Ä–∞, –º–∞–∫—Å–∏–º—É–º 120 —Å–¥–µ–ª–æ–∫ –≤ —Å—É—Ç–∫–∏.  
- **–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä:** GA –≤–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç time filter, –∑–∞–¥–∞—ë—Ç —Å—Ç–∞—Ä—Ç –∏ –¥–ª–∏–Ω—É –æ–∫–Ω–∞. –î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–ì–ê ‚Ññ3 –∏ ‚Ññ5) –æ–∫–Ω–æ 18:00‚Äì21:00 UTC.  
- **–õ–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è:** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤ + –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ –±—ç–∫—Ç–µ—Å—Ç–µ—Ä, —É—á–∏—Ç—ã–≤–∞—è –∫–æ–º–∏—Å—Å–∏–∏.

---

## 5. –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º

### 5.1 –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞

| –ë–ª–æ–∫ | –ì–µ–Ω—ã |
|------|------|
| Risk | `stop_loss_pct`, `take_profit_pct`, `atr_period`, `atr_stop_multiplier`, `atr_trailing_multiplier` |
| –°–∏–≥–Ω–∞–ª—ã | `rsi_period`, `rsi_weight`, `rsi_buy_below_long`, `rsi_sell_above_short`, `macd_fast/slow/signal_period`, `macd_weight`, `bollinger_period`, `bollinger_std_dev`, `bollinger_weight`, `wobi_weight`, `wobi_weight_ratio3/5/8/60` |
| Long/Short | `long_signal_multiplier`, `short_signal_multiplier`, `entry_threshold_long`, `entry_threshold_short` |
| –¢–∞–π–º–∏–Ω–≥ | `time_filter_enabled`, `time_window_start`, `time_window_length` |

**–û—Å–Ω–æ–≤–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**  
- `long_signal_multiplier + short_signal_multiplier ‚â• 1.6` –∏ –∫–∞–∂–¥—ã–π –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0.8; 1.2].  
- `entry_threshold_long ‚â• entry_threshold_short`.  
- –°—É–º–º–∞ WOBI –≤–µ—Å–æ–≤ = 1.  
- –ú–∏–Ω–∏–º—É–º 10 —Å–¥–µ–ª–æ–∫ –Ω–∞ –≤–∞–ª–∏–¥a—Ü–∏–∏, –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Å–∞–¥–∫–∏ 20%, win rate ‚â• 25% ‚Äî –∏–Ω–∞—á–µ –æ—Å–æ–±—å –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è.

### 5.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ì–ê (`config/ga_config.yaml`)

- –ü–æ–ø—É–ª—è—Ü–∏—è 100, 100 –ø–æ–∫–æ–ª–µ–Ω–∏–π.  
- –°–µ–ª–µ–∫—Ü–∏—è: —Ç—É—Ä–Ω–∏—Ä (k=3).  
- –ö—Ä–æ—Å—Å–æ–≤–µ—Ä: uniform, 0.75 (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–æ 0.85 –ø—Ä–∏ —Å—Ç–∞–≥–Ω–∞—Ü–∏–∏).  
- –ú—É—Ç–∞—Ü–∏—è: 0.15 –±–∞–∑–æ–≤–æ, –¥–æ 0.25 –ø—Ä–∏ —Å—Ç–∞–≥–Ω–∞—Ü–∏–∏, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–≤—ã–µ 20 –ø–æ–∫–æ–ª–µ–Ω–∏–π.  
- –≠–ª–∏—Ç–∞: 5 –ª—É—á—à–∏—Ö.  
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —á–µ—Ä–µ–∑ `pathos` (4 –ø—Ä–æ—Ü–µ—Å—Å–∞).  
- Early stopping: 20 –ø–æ–∫–æ–ª–µ–Ω–∏–π –±–µ–∑ —É–ª—É—á—à–µ–Ω–∏—è –∏–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ fitness.

### 5.3 Fitness-—Ñ—É–Ω–∫—Ü–∏—è

**–ú–µ—Ç—Ä–∏–∫–∏ (–≤–µ—Å–∞):** PnL 0.35, Sharpe 0.25, MaxDD 0.20, Win Rate 0.10, Profit Factor 0.10.  
**–ë–æ–Ω—É—Å—ã:** Sharpe > 2, MaxDD < 10%, PF > 2 –∏ —Ç.–¥.  
**–®—Ç—Ä–∞—Ñ—ã:** –∑–∞ –º–∞–ª–æ —Å–¥–µ–ª–æ–∫ (–∞–¥–¥–∏—Ç–∏–≤–Ω—ã–µ –∏ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–µ), Drawdown > 40/50%, PF < 1, Sharpe < 0, Win Rate < 30%.

#### –§–∏–∫—Å Infinity/NaN (–ì–ê ‚Ññ4 ‚Üí ‚Ññ5)
- `_safe_metric_value` –∑–∞–º–µ–Ω—è–µ—Ç ¬±‚àû (PF ‚Üí 10, Sharpe ‚Üí ¬±50) –∏ NaN ‚Üí –¥–µ—Ñ–æ–ª—Ç.  
- `_validate_metrics` –ø—Ä–∏–≤–æ–¥–∏—Ç drawdown, win rate –∏ total_return –∫ –¥–æ–ø—É—Å—Ç–∏–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º.  
- `_passes_hard_constraints` –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ—Å–æ–±—å, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –Ω–µ —Å–æ–±–ª—é–¥–µ–Ω—ã.  
- `_apply_trade_count_penalties` (–¥–≤–∞ —É—Ä–æ–≤–Ω—è —à—Ç—Ä–∞—Ñ–æ–≤).  
- –î–ª—è —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω `scripts/test_fitness_fix.py`.

#### –ë–∞–ª–∞–Ω—Å Long/Short
- –í–≤–µ–¥–µ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≥–µ–Ω—ã + —Ñ—É–Ω–∫—Ü–∏—è `_apply_constraints`.  
- –ü–æ—Å–ª–µ –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–∞ –∏ –º—É—Ç–∞—Ü–∏–∏ –≤—Å–µ –æ—Å–æ–±–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –æ–±—Ö–æ–¥–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.  
- GA ‚Ññ5 –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ –¥–∞–∂–µ –ø—Ä–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ Short (‚âà99%), —á—Ç–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –æ–∫–Ω–µ.

#### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (–ì–ê ‚Ññ6)
- –í search space –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤–µ—Å–∞/–ø–∞—Ä–∞–º–µ—Ç—Ä—ã RSI/MACD/Bollinger/WOBI.  
- `IndicatorPipeline` –∏ `mvp_strategy` –Ω–∞—É—á–∏–ª–∏—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.  
- –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ Val, –Ω–æ —Å–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (—Å–º. –Ω–∏–∂–µ).

---

## 6. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ì–ê (–ø–æ–¥—Ä–æ–±–Ω–æ)

| ‚Ññ | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | Fitness | Train | Val | Test | –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è |
|---|--------------|---------|-------|-----|------|---------------------|
| **1** (40√ó50) | –ë–∞–∑–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã | 137.96 | Train -32% | Val +1.7% | Test +4.2% | –°–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ, –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ |
| **2** (40√ó50) | –î–æ–±–∞–≤–ª–µ–Ω—ã time window –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | 85.92 | Train -13% | Val +4.55% | Test -0.6% | –û–∫–Ω–æ 12:00‚Äì16:00 UTC, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ |
| **3** (100√ó100) | –í–∞–ª–∏–¥a—Ü–∏—è –≤ fitness, —Ä–∞–Ω–Ω—è—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ | **200.85** | +6.64% / Sharpe 7.89 | **+7.36% / 42.65** | **+4.02% / 26.27** | –ù–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è, –æ–∫–Ω–æ 18:00‚Äì21:00 UTC, 99% Short |
| **4** | –ù–µ–≤–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PF/Sharpe (‚àû) | ‚àû | -33% | +0.04% | -1.55% | Fitness —Å–ª–æ–º–∞–Ω, –Ω—É–∂–Ω—ã —Ñ–∏–∫—Å—ã |
| **5** (100√ó100) | Infinity fix + Long/Short + –º–∏–Ω–∏–º—É–º—ã —Å–¥–µ–ª–æ–∫ | **200.53** | +6.10% / 7.24 | **+7.54% / 43.73** | **+3.96% / 25.67** | –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –æ–∫–Ω–æ 18:00‚Äì21:00 UTC, PF > 2 –Ω–∞ Val |
| **6** (100√ó100) | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π search space –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ | **208.07** | +8.86% / 8.92 | **+8.80% / 38.79** | **-4.08% / -49.96** | –õ—É—á—à–∞—è Val, –Ω–æ Test –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π, –≤—Ä–µ–º—è 03:00‚Äì14:00 UTC (11 —á–∞—Å–æ–≤) |
| **7 (–¥–æ constraint)** (100√ó100) | –ù–æ–≤—ã–µ —à—Ç—Ä–∞—Ñ—ã –∑–∞ Test/–æ–∫–Ω–æ | 202.47 | +10.64% / 12.60 | **+8.17% / 35.11** | **+8.32% / 36.41** | Val‚âàTest, –æ–∫–Ω–æ 20:00‚Äì02:00 (6 —á), –Ω–æ fast ‚â• slow ‚áí –Ω—É–∂–µ–Ω constraint |
| **7 (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π)** (100√ó100) | –ù–æ–≤—ã–µ —à—Ç—Ä–∞—Ñ—ã + constraint MACD fast < slow | **223.11** | +8.76% / 10.06 | **+7.73% / 52.97** | **+7.91% / 31.87** | Val –∏ Test –ø–æ—á—Ç–∏ —Ä–∞–≤–Ω—ã, –æ–∫–Ω–æ 01:00‚Äì05:00 (4 —á), –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ–≥–∏—á–Ω—ã |

### –î–µ—Ç–∞–ª–∏ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

- **–ì–ê ‚Ññ3:**  
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: RSI 15, SL 1.47%, TP 1.21%, ATR 23, ATR trailing 1.96, WOBI –≤–µ—Å 0.38.  
  - –ú–µ—Ç—Ä–∏–∫–∏ (Val/Test): Sharpe 42.65/26.27, MaxDD 2.77/3.06, Win Rate —Ä–∞—Å—Ç—ë—Ç –æ—Ç Train –∫ Test.  
  - –í—ã–≤–æ–¥: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–π fitness + –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ—à–∞—é—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ.

- **–ì–ê ‚Ññ5:**  
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: RSI 15, SL 0.81%, TP 1.25%, ATR 18, `long_multiplier=0.819`, `short_multiplier=1.198`, `entry_long=0.7`, `entry_short=0.523`.  
  - –í–∞–ª–∏–¥a—Ü–∏—è: +7.54%, PF 2.11, Sharpe 43.73, 30 —Å–¥–µ–ª–æ–∫.  
  - –¢–µ—Å—Ç: +3.96%, PF 1.46, Sharpe 25.67, 28 —Å–¥–µ–ª–æ–∫.  
  - –≠—Ç–æ —Ç–µ–∫—É—â–∏–π ¬´–±–æ–µ–≤–æ–π¬ª –≥–µ–Ω–æ–º (`results/ga_best_fixed.json`).

- **–ì–ê ‚Ññ7 (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ—Å–ª–µ constraint):**  
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: RSI 25, SL 0.77%, TP 4.25%, ATR 9, –æ–∫–Ω–æ 01:00‚Äì05:00 UTC (4 —á), `long_multiplier=1.125`, `short_multiplier=0.905`, `entry_long=0.637`, `entry_short=0.537`.  
  - –ú–µ—Ç—Ä–∏–∫–∏: Val +7.73% (Sharpe 52.97, PF 2.59, 33 —Å–¥–µ–ª–∫–∏), Test +7.91% (Sharpe 31.87, PF 2.16, 35 —Å–¥–µ–ª–æ–∫).  
  - –í—ã–≤–æ–¥: –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MACD fast < slow —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –¥–∞–∂–µ —É–ª—É—á—à–∞–µ—Ç PF/Sharpe –ø—Ä–∏ –º–µ–Ω—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–¥–µ–ª–æ–∫.  
  - –§–∞–π–ª: `results/ga_run_07_full.json` (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π). –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤ `docs/archive/GA_RUN_07_ANALYSIS.md`.

- **–ì–ê ‚Ññ6:**  
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: RSI 12, MACD 11-49-21, Bollinger 29√ó2.26œÉ, Bollinger weight 1.74, RSI weight 0.27, MACD weight 0.67, WOBI –≥–ª—É–±–∏–Ω–∞ ratio60=0.45.  
  - –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–æ –¥–æ 11 —á–∞—Å–æ–≤ (03:00‚Äì14:00 UTC).  
  - Val: +8.80%, Win Rate 61%, MaxDD 1.97%.  
  - Test: -4.08%, Sharpe -49.96, PF 0.37 ‚Üí —è–≤–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ, –Ω—É–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —à—Ç—Ä–∞—Ñ–æ–≤.

---

## 7. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

- **DeepSeek –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ (4 —Ä–∞—É–Ω–¥–∞):**  
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–∞–ª–∏–¥a—Ü–∏–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é search space, –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á.  
  - –û—Ç—á—ë—Ç—ã –∏ –æ—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `docs/archive/deepseek_advice/*.md`.  
  - –ò—Ç–æ–≥–∏ —Å–æ–±—Ä–∞–Ω—ã –≤ `archive/DEEPSEEK_RECOMMENDATIONS_ANALYSIS.md` –∏ `archive/DEEPSEEK_RESPONSE_04_ANALYSIS.md`.

- **–ê–Ω–∞–ª–∏–∑ —Å–¥–µ–ª–æ–∫ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:**  
  - `archive/TEST_TRADES_PATTERN_ANALYSIS.md` ‚Äî –∫–∞–∫–∏–µ —á–∞—Å—ã/–¥–Ω–∏ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã, —Ä–æ–ª—å MACD/WOBI –≤ —Å–¥–µ–ª–∫–∞—Ö.  
  - `archive/GA_RUN_05_TRADES_ANALYSIS.md` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ, —á—Ç–æ Short-—Å–∏–≥–Ω–∞–ª—ã –¥–æ–º–∏–Ω–∏—Ä—É—é—Ç, –Ω–æ –¥–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π Sharpe.

- **Order Book –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**  
  - `archive/ORDER_BOOK_INDICATORS_IMPLEMENTATION.md` –∏ `archive/INDICATORS_STRATEGY_ANALYSIS.md` —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —Ç–µ–∫—É—â–∏–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–≤—Å–µ–≥–æ >50).

---

## 8. –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –∏ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (20.11.2025)

- **–õ—É—á—à–∏–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–ê ‚Ññ5 (`results/ga_best_fixed.json`).  
- **Fitness-—Ä–µ–∫–æ—Ä–¥:** –ì–ê ‚Ññ6 (fitness 208.07) ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ search space, –Ω–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π Test (-4.08%).  
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** (–∏–∑ `archive/GLOBAL_STATUS_ANALYSIS.md`):  
  1. –ë–æ—Ä–æ—Ç—å—Å—è —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è search space.  
  2. –í–Ω–µ–¥—Ä–∏—Ç—å walk-forward –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã.  
  3. –£–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ (–Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å ¬´–ª–µ–Ω–∏–≤—ã—Ö¬ª —Ä–µ—à–µ–Ω–∏–π —Å 11-—á–∞—Å–æ–≤—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º).  
  4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.  
- **–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏** (—Å–º. `project_plan.md`):  
  - ‚úÖ –£—Å–∏–ª–∏—Ç—å —à—Ç—Ä–∞—Ñ—ã –∑–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π Test –∏ –∑–∞ —Ä–∞–∑–Ω–∏—Ü—É Val/Test (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ).  
  - ‚úÖ –ü—Ä–æ–≤–µ—Å—Ç–∏ –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –ì–ê (20√ó10) –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ (fitness 113, Test > 0).  
  - ‚û° –î–æ–±–∞–≤–∏—Ç—å constraint `macd_fast_period < macd_slow_period` –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω.  
  - ‚è≥ –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É walk-forward.  
  - ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã (`results/final/<run_id>/` + Markdown).
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `scripts/run_ga_search.py`, `scripts/analyze_ga_results.py`, `scripts/monitor_ga_live.py`.

---

## 9. –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —Ä–∞–±–æ—Ç (–∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ ‚Äî –≤ `project_plan.md`)

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ fitness –∏ –ì–ê ‚Ññ7**  
   - –ñ—ë—Å—Ç–∫–∏–π –∑–∞–ø—Ä–µ—Ç –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π Test return (–¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Å–æ–±–∏ + —à—Ç—Ä–∞—Ñ).  
   - –®—Ç—Ä–∞—Ñ –∑–∞ —Ä–∞–∑–Ω–∏—Ü—É Val/Test > 50% –ø–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ Sharpe.  
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `time_window_length ‚â§ 8` –∏–ª–∏ —à—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ.  
   - –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–∞ –≤—Å–µ –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞.

2. **Walk-forward –ø—Ä–æ—Ç–æ—Ç–∏–ø**  
   - 3‚Äì4 —Å–∫–æ–ª—å–∑—è—â–∏—Ö –æ–∫–Ω–∞ Train/Val/Test.  
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ `genetic_optimizer` –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ fitness –ø–æ –æ–∫–Ω–∞–º.  
   - –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤).

3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**  
   - –ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤–∏—Ç—å SuperTrend, VWAP, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ order-flow –ø—Ä–∏–∑–Ω–∞–∫–∏ (—Å–º. `archive/INDICATORS_STRATEGY_ANALYSIS.md`).  
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–∏—Å–∫ –≤–µ—Å–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏**  
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown/PDF –æ—Ç—á—ë—Ç–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ì–ê.  
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—É—á—à–∏—Ö —Ç—Ä–µ–π–¥–æ–≤, –≥—Ä–∞—Ñ–∏–∫–æ–≤, –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤ `results/final/<run_id>/`.

5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ constraints**  
   - –û–±–Ω–æ–≤–∏—Ç—å `_apply_constraints` –¥–ª—è MACD (`macd_fast_period < macd_slow_period`) –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.  
   - –ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ì–ê ‚Ññ7 –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è constraint, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –Ω–µ–ª–æ–≥–∏—á–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.

---

## 10. –í—ã–¥–µ—Ä–∂–∫–∏ –∫–æ–¥–∞

### 10.1 –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç—Ä–∏–∫ (–∏–∑ `_safe_metric_value`, —Å–º. `archive/IMPLEMENTATION_FITNESS_INFINITY_FIX.md`)

```python
def _safe_metric_value(self, value: float, metric_name: str, default: float = 0.0) -> float:
    if np.isinf(value) or np.isnan(value):
        if metric_name == "profit_factor":
            return 10.0
        if metric_name == "sharpe_ratio":
            return 50.0 if value > 0 else -50.0
        return default
    return float(value)
```

### 10.2 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (—Ñ—Ä–∞–≥–º–µ–Ω—Ç `_build_feature_dataset`)

```python
indicator_params = {
    "rsi": {"period": genes["rsi_period"]},
    "macd": {
        "fast_period": genes.get("macd_fast_period", DEFAULT_PARAMS["macd"]["fast_period"]),
        "slow_period": genes.get("macd_slow_period", DEFAULT_PARAMS["macd"]["slow_period"]),
        "signal_period": genes.get("macd_signal_period", DEFAULT_PARAMS["macd"]["signal_period"]),
    },
    "bollinger": {
        "period": genes.get("bollinger_period", DEFAULT_PARAMS["bollinger"]["period"]),
        "std_dev": genes.get("bollinger_std_dev", DEFAULT_PARAMS["bollinger"]["std_dev"]),
    },
    "wobi": {"weights": {...}}  # –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –¥–æ —Å—É–º–º—ã 1.0
}
```

–≠—Ç–∏ –±–ª–æ–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–ª–∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ì–ê ‚Ññ5 –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ search space –≤ –ì–ê ‚Ññ6.

---

## 11. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ñ–∞–π–ª–æ–≤ –∏ –º–æ–¥—É–ª–µ–π

- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** `config/ga_config.yaml`, `config/mvp_strategy_config.yaml`.  
- **–ö–æ–¥ —è–¥—Ä–∞:** `src/core/genetic_optimizer.py`, `src/strategies/mvp_strategy.py`, `src/analysis/indicator_pipeline.py`, `src/backtest`.  
- **–°–∫—Ä–∏–ø—Ç—ã:**  
  - `scripts/run_ga_search.py` ‚Äî –∑–∞–ø—É—Å–∫ –ì–ê (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CLI).  
  - `scripts/test_fitness_fix.py` ‚Äî smoke-—Ç–µ—Å—Ç—ã –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.  
  - `scripts/analyze_ga_results.py` ‚Äî –≥–æ—Ç–æ–≤–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—É—Å–∫—É.  
- **–î–∞–Ω–Ω—ã–µ:** `dataframe/with_full_depth/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–µ csv (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ).  
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** `results/` ‚Äî JSON –ª—É—á—à–∏—Ö –æ—Å–æ–±–µ–π, —Ç—Ä–µ–π–¥—ã –ø–æ —Å–ø–ª–∏—Ç–∞–º, –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã.

---

> **–í–∞–∂–Ω–æ:** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–∏–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏–ª–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∏ `project_plan.md`. –°—Ç–∞—Ä—ã–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ `docs/archive/` –∏ —Å–ª—É–∂–∞—Ç –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞.

---

## 12. –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∞—Ä—Ö–∏–≤

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –î–æ–∫—É–º–µ–Ω—Ç—ã |
|-----------|-----------|
| –û–±—â–∏–µ –æ—Ç—á—ë—Ç—ã | `archive/STAGE0_BASELINE_REPORT.md`, `archive/PROJECT_STATUS_SUMMARY.md` |
| –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã | `archive/GA_RUN_03_DETAILED_ANALYSIS.md`, `archive/GA_RUN_05_ANALYSIS.md`, `archive/GA_RUN_06_ANALYSIS.md`, `archive/GA_RUN_06_TEST_RESULTS.md`, `archive/GA_RUN_06_VS_05_COMPARISON.md` |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ñ–∏–∫—Å—ã | `archive/GENETIC_ALGORITHM_DESIGN.md`, `archive/IMPLEMENTATION_FITNESS_INFINITY_FIX.md`, `archive/IMPLEMENTATION_LONGSHORT_BALANCE.md`, `archive/IMPLEMENTATION_INDICATOR_OPTIMIZATION.md` |
| –ü–ª–∞–Ω—ã | `archive/ACTION_PLAN_UPDATED.md`, `archive/OPTIMIZATION_SUMMARY.md`, `archive/NEXT_STEPS_AFTER_GA05.md`, `archive/PLAN_SUMMARY.md` |
| –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ –∞–Ω–∞–ª–∏–∑ | `archive/ORDER_BOOK_INDICATORS_IMPLEMENTATION.md`, `archive/INDICATORS_STRATEGY_ANALYSIS.md`, `archive/TEST_TRADES_PATTERN_ANALYSIS.md` |
| DeepSeek | `docs/archive/deepseek_advice/*` (–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã) |

–í—Å–µ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —É—á—Ç–µ–Ω—ã –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
