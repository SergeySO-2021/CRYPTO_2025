# ü§ñ –û–¢–í–ï–¢ –û–¢ DEEPSEEK: –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è:** 2025-11-16  
**–í–µ—Ä—Å–∏—è –æ—Ç–≤–µ—Ç–∞:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª—É—á–µ–Ω –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

---

## üìã –°–¢–†–£–ö–¢–£–†–ê –û–¢–í–ï–¢–ê

–û—Ç–≤–µ—Ç DeepSeek —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—Å–µ–º 9 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
2. –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏
3. –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ Order Book
4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–≤ –∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–≤
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
6. –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
8. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä—ã–Ω–∫–∞
9. –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏

---

## 1. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ì–ï–ù–ï–¢–ò–ß–ï–°–ö–û–ì–û –ê–õ–ì–û–†–ò–¢–ú–ê

### –í–æ–ø—Ä–æ—Å 1.1: –†–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏ –¥–ª—è 50-70 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 100-150 –æ—Å–æ–±–µ–π

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –î–ª—è 50+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ 50-100 –æ—Å–æ–±–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞
- –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ: —Ä–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ 2-3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ö–æ–º–ø—Ä–æ–º–∏—Å—Å: –ù–∞—á–Ω–∏—Ç–µ —Å 100, –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ diversity –ø–æ–ø—É–ª—è—Ü–∏–∏. –ï—Å–ª–∏ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å - —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –¥–æ 150

### –í–æ–ø—Ä–æ—Å 1.2: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ì–ê

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ, —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- –ü–µ—Ä–≤—ã–µ 20 –ø–æ–∫–æ–ª–µ–Ω–∏–π: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - –ú—É—Ç–∞—Ü–∏—è: 0.15
  - –ö—Ä–æ—Å—Å–æ–≤–µ—Ä: 0.75
- –ü–æ—Å–ª–µ 20 –ø–æ–∫–æ–ª–µ–Ω–∏–π: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ diversity –ø–æ–ø—É–ª—è—Ü–∏–∏
  - –ï—Å–ª–∏ diversity –ø–∞–¥–∞–µ—Ç ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –º—É—Ç–∞—Ü–∏—é –¥–æ 0.25
  - –ï—Å–ª–∏ stagnation ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∫—Ä–æ—Å—Å–æ–≤–µ—Ä –¥–æ 0.85

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:** –ú–µ—Ç–∞-–ì–ê –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 10-30% —É–ª—É—á—à–µ–Ω–∏–µ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### –í–æ–ø—Ä–æ—Å 1.3: –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—Ä–æ–º–æ—Å–æ–º—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–º–µ—à–∞–Ω–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# –õ—É—á—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
chromosome_structure = {
    # –í–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (float)
    'continuous': {
        'rsi.period': (8, 30, 'int'),
        'rsi.overbought': (60, 90, 'int'), 
        'stoploss_pct': (0.005, 0.05, 'float'),
        # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    },
    # –ë–∏–Ω–∞—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤–∫–ª—é—á–µ–Ω–æ/–≤—ã–∫–ª—é—á–µ–Ω–æ)
    'binary': {
        'rsi.enabled': True,
        'macd.enabled': True,
        'use_order_book': False
    },
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    'categorical': {
        'combination_method': ['weighted', 'voting', 'consensus']
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞
- –õ–µ–≥–∫–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –º—É—Ç–∞—Ü–∏–∏/–∫—Ä–æ—Å—Å–æ–≤–µ—Ä–∞
- –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ fitness

### –í–æ–ø—Ä–æ—Å 1.4: –ú–Ω–æ–≥–æ–ø–æ–ø—É–ª—è—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–¥–Ω–∞ –ø–æ–ø—É–ª—è—Ü–∏—è —Å niching

**–ü—Ä–∏—á–∏–Ω—ã:**
- –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –¥–µ–ª–∞–µ—Ç island model –¥–æ—Ä–æ–≥–∏–º
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ fitness sharing –∏–ª–∏ crowding –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è diversity
- –†–∞–∑–¥–µ–ª–∏—Ç–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ –Ω–∞ —Ä–µ–≥–∏–æ–Ω—ã (—Ç—Ä–µ–Ω–¥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã –∏ —Ç.–¥.)

---

## 2. –§–£–ù–ö–¶–ò–Ø –ü–†–ò–°–ü–û–°–û–ë–õ–ï–ù–ù–û–°–¢–ò

### –í–æ–ø—Ä–æ—Å 2.1: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤

**–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:**

```python
def calculate_fitness(backtest_results):
    base_fitness = (
        normalized_pnl * 0.35 +           # –°–Ω–∏–∑–∏–ª –≤–µ—Å PnL
        sharpe_ratio * 100 * 0.25 +      # –£–≤–µ–ª–∏—á–∏–ª –≤–µ—Å Sharpe
        (1 - min(max_drawdown, 0.8)) * 0.20 +  # –£–≤–µ–ª–∏—á–∏–ª –≤–µ—Å –ø—Ä–æ—Å–∞–¥–æ–∫
        normalized_win_rate * 0.10 +
        normalized_profit_factor * 0.10
    )
    
    # –®—Ç—Ä–∞—Ñ—ã (–º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–µ)
    penalties = 1.0
    if max_drawdown > 0.4: penalties *= 0.5
    if sharpe_ratio < 0: penalties *= 0.3
    if profit_factor < 1.0: penalties *= 0.7
    if total_trades < 10: penalties *= 0.5  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
    
    return base_fitness * penalties
```

### –í–æ–ø—Ä–æ—Å 2.2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Rank-based normalization –≤–Ω—É—Ç—Ä–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏

```python
# –í–º–µ—Å—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–Ω–≥–∏
def normalize_metric(values):
    ranks = stats.rankdata(values)
    return ranks / len(ranks)  # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫ [0, 1]
```

### –í–æ–ø—Ä–æ—Å 2.3: –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π fitness —Å –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π

```python
fitness = base_fitness  # –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º

# –ù–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Å–Ω–∏–∑—É –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
fitness = max(fitness, -1000)
```

### –í–æ–ø—Ä–æ—Å 2.4: Multi-objective vs Weighted Sum

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å weighted sum, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ NSGA-II

**–ü—Ä–∏—á–∏–Ω—ã:**
- Weighted sum –ø—Ä–æ—â–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –¥–æ–±–∞–≤—å—Ç–µ NSGA-II –¥–ª—è –ø–æ–∏—Å–∫–∞ Pareto front
- –ö–ª—é—á–µ–≤—ã–µ objectives: PnL, MaxDD, Sharpe Ratio

---

## 3. –†–ê–ë–û–¢–ê –° –î–ê–ù–ù–´–ú–ò ORDER BOOK

### –í–æ–ø—Ä–æ—Å 3.1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Order Book –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ö–æ–º–±–∏–Ω–∞—Ü–∏—è A + C

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
class OrderBookIndicators:
    @staticmethod
    def imbalance_strength(d3, d5, d8, d60):
        """–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞"""
        # –ë–ª–∏–∂–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
        return 0.4*d3 + 0.3*d5 + 0.2*d8 + 0.1*d60
    
    @staticmethod
    def liquidity_pressure(ask3, bid3, ask8, bid8):
        """–î–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏"""
        near_spread = (ask3 - bid3) / (ask3 + bid3)
        deep_spread = (ask8 - bid8) / (ask8 + bid8)
        return near_spread - deep_spread  # –†–∞–∑–Ω–∏—Ü–∞ –≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
    
    @staticmethod  
    def order_book_momentum(ratio3, ratio5, ratio8, lookback=5):
        """–ú–æ–º–µ–Ω—Ç—É–º –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤ order book"""
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π
        return pd.Series(ratio3).rolling(lookback).mean()
```

### –í–æ–ø—Ä–æ—Å 3.2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è Order Book –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ + Z-score

```python
def normalize_orderbook_data(df):
    # –õ–æ–≥–∞—Ä–∏—Ñ–º –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è skewness
    ob_columns = ['ask3', 'bid3', 'ask5', 'bid5', 'ask8', 'bid8', 'ask60', 'bid60']
    for col in ob_columns:
        df[f'log_{col}'] = np.log1p(df[col])
    
    # Z-score –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–≤
    imbalance_cols = ['d3', 'd5', 'd8', 'd60']
    for col in imbalance_cols:
        df[f'z_{col}'] = (df[col] - df[col].rolling(100).mean()) / df[col].rolling(100).std()
    
    return df
```

### –í–æ–ø—Ä–æ—Å 3.3: –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –≥–ª—É–±–∏–Ω—ã Order Book

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –§–æ–∫—É—Å –Ω–∞ 3% –∏ 5% –≥–ª—É–±–∏–Ω–∞—Ö –¥–ª—è 15-–º–∏–Ω—É—Ç–Ω–æ–≥–æ TF

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- 3% –≥–ª—É–±–∏–Ω–∞: –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, –ø—Ä–æ—Ä—ã–≤—ã —É—Ä–æ–≤–Ω–µ–π
- 5% –≥–ª—É–±–∏–Ω–∞: –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
- 8%+ –≥–ª—É–±–∏–Ω—ã: –ú–µ–Ω–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã –¥–ª—è 15-–º–∏–Ω—É—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:** –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –±–ª–∏–∂–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã (1-5%) –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–Ω–æ–≤—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π

### –í–æ–ø—Ä–æ—Å 3.4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –≥–ª—É–±–∏–Ω

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤–µ—Å–∞ –≤ –ì–ê

```python
# –î–æ–±–∞–≤—å—Ç–µ –≤ —Ö—Ä–æ–º–æ—Å–æ–º—É
'ob_weights': {
    'weight_depth3': (0.1, 0.6, 'float'),
    'weight_depth5': (0.1, 0.5, 'float'), 
    'weight_depth8': (0.05, 0.3, 'float'),
    'weight_depth60': (0.01, 0.2, 'float')
}
```

---

## 4. –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –°–¢–û–ü-–õ–û–°–°–û–í –ò –¢–ï–ô–ö-–ü–†–û–§–ò–¢–û–í

### –í–æ–ø—Ä–æ—Å 4.1: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ vs –û–±—â–∏–µ SL/TP

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```python
# –ë–∞–∑–æ–≤—ã–µ SL/TP –¥–ª—è –≤—Å–µ—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
'global_risk': {
    'base_stoploss': (0.005, 0.03, 'float'),
    'base_takeprofit': (0.01, 0.08, 'float')
}

# –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
'rsi_risk_multiplier': (0.5, 2.0, 'float'),
'macd_risk_multiplier': (0.5, 2.0, 'float')
# ...
```

### –í–æ–ø—Ä–æ—Å 4.2: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç–æ–ø-–ª–æ—Å—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!

```python
# –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
'atr_stop': {
    'enabled': True,
    'atr_period': (10, 30, 'int'),
    'atr_multiplier': (1.0, 3.0, 'float')
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞

### –í–æ–ø—Ä–æ—Å 4.3: –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ SL/TP

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–∞—Å—à–∏—Ä—å—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç

```python
# –î–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
'stoploss_pct': (0.008, 0.08, 'float'),      # 0.8% - 8%
'takeprofit_pct': (0.015, 0.15, 'float'),    # 1.5% - 15%
'min_risk_reward': (1.2, 3.0, 'float')       # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ reward/risk
```

### –í–æ–ø—Ä–æ—Å 4.4: Trailing Stop

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä

```python
'trailing_stop': {
    'enabled': False,  # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ
    'activation_pct': (0.01, 0.05, 'float'),  # –ö–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
    'trailing_pct': (0.005, 0.02, 'float')    # –†–∞–∑—Ä—ã–≤ –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
}
```

---

## 5. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ò–ù–î–ò–ö–ê–¢–û–†–û–í

### –í–æ–ø—Ä–æ—Å 5.1: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –≤–µ—Å–æ–≤

```python
# –°–∏—Å—Ç–µ–º–∞ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
def generate_composite_signal(individual, current_data):
    signals = []
    weights = []
    
    for indicator in enabled_indicators:
        signal = calculate_signal(indicator, current_data)
        weight = individual[f'{indicator}_weight']
        
        signals.append(signal)  # -1, 0, +1
        weights.append(weight)
    
    composite_signal = np.average(signals, weights=weights)
    
    # –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏
    buy_threshold = individual['buy_threshold']    # –Ω–∞–ø—Ä–∏–º–µ—Ä 0.3
    sell_threshold = individual['sell_threshold']  # –Ω–∞–ø—Ä–∏–º–µ—Ä -0.3
    
    if composite_signal > buy_threshold:
        return 'BUY'
    elif composite_signal < sell_threshold:
        return 'SELL'
    else:
        return 'HOLD'
```

### –í–æ–ø—Ä–æ—Å 5.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ì–ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- –£–º–µ–Ω—å—à–∞–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (–º–µ–Ω—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- –£—Å–∫–æ—Ä—è–µ—Ç —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å

### –í–æ–ø—Ä–æ—Å 5.3: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (confidence scoring)

```python
# –ö–∞–∂–¥—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
def calculate_signal_with_confidence(indicator, data):
    signal = calculate_basic_signal(indicator, data)
    confidence = calculate_confidence(indicator, data)  # –ù–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª
    
    return signal, confidence

# –¢–æ–≥–¥–∞ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —Å —É—á–µ—Ç–æ–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
weighted_signal = signal * confidence * indicator_weight
```

---

## 6. –ë–≠–ö–¢–ï–°–¢–ò–ù–ì –ò –í–ê–õ–ò–î–ê–¶–ò–Ø

### –í–æ–ø—Ä–æ—Å 6.1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Walk-forward –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å expanding window

```python
# –ü—Ä–∏–º–µ—Ä walk-forward —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
periods = [
    {'train': '2024-01-2024-06', 'val': '2024-07', 'test': '2024-08'},
    {'train': '2024-01-2024-07', 'val': '2024-08', 'test': '2024-09'},
    # ... –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å–¥–≤–∏–≥–∞—Ç—å
]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ë–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ out-of-sample –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í–æ–ø—Ä–æ—Å 6.2: –ò–∑–±–µ–∂–∞–Ω–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:**

**–°–ª–æ–∂–Ω–æ—Å—Ç—å —à—Ç—Ä–∞—Ñ–æ–≤:**

```python
# –®—Ç—Ä–∞—Ñ –∑–∞ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
enabled_indicators = count_enabled_indicators(individual)
complexity_penalty = 1.0 - (enabled_indicators / total_indicators) * 0.1
fitness *= complexity_penalty
```

- Path dependency –ø—Ä–æ–≤–µ—Ä–∫–∞: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö
- Noise injection: –î–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–π —à—É–º –∫ —Ü–µ–Ω–∞–º –ø—Ä–∏ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–µ

### –í–æ–ø—Ä–æ—Å 6.3: –£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –≤ fitness function!

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°—Ç—Ä–∞—Ç–µ–≥–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–æ–ª—å–∫–æ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–π, –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã
- –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏ (0.1% –∫–æ–º–∏—Å—Å–∏—è + 0.05% –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ)

### –í–æ–ø—Ä–æ—Å 6.4: –ü–µ—Ä–∏–æ–¥—ã –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–µ –∏—Å–∫–ª—é—á–∞—Ç—å, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ fitness –º–µ—Ç—Ä–∏–∫–∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

```python
# –ú–µ—Ç—Ä–∏–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
def volatility_resilience(returns, high_vol_periods):
    normal_performance = returns[~high_vol_periods].mean()
    high_vol_performance = returns[high_vol_periods].mean()
    
    return high_vol_performance / normal_performance  # >1 –∑–Ω–∞—á–∏—Ç —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
```

---

## 7. –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

### –í–æ–ø—Ä–æ—Å 7.1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**

**–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multiprocessing

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:**

```python
from functools import lru_cache

@lru_cache(maxsize=1000)
def calculate_rsi(prices, period):
    # –ö—ç—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    pass
```

**–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:**
- –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –ø–æ–¥–≤—ã–±–æ—Ä–∫–µ (–ø–µ—Ä–≤—ã–µ 20%)
- –ü–æ–ª–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã—Ö –æ—Å–æ–±–µ–π

### –í–æ–ø—Ä–æ—Å 7.2: –†–∞–Ω–Ω–µ–µ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–∞, —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é

```python
def early_stopping(individual, partial_results):
    # –ï—Å–ª–∏ –ø–æ—Å–ª–µ 30% –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∞–¥–∫–∞ > 15% - —Å—Ç–æ–ø
    if partial_results['drawdown'] > 0.15:
        return True
    
    # –ï—Å–ª–∏ –ø–æ—Å–ª–µ 50% –¥–∞–Ω–Ω—ã—Ö PnL —Å–∏–ª—å–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π
    if partial_results['pnl'] < -0.08:
        return True
        
    return False
```

### –í–æ–ø—Ä–æ—Å 7.3: –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –ø–æ–∫–æ–ª–µ–Ω–∏–π

```python
# –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
generation_data = {
    'generation': generation_num,
    'best_fitness': best_fitness,
    'avg_fitness': avg_fitness,
    'diversity': population_diversity,
    'best_individual': best_individual_metadata,  # –¢–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
    'convergence_metrics': convergence_data
}
```

---

## 8. –°–ü–ï–¶–ò–§–ò–ö–ê –ö–†–ò–ü–¢–û–í–ê–õ–Æ–¢–ù–û–ì–û –†–´–ù–ö–ê

### –í–æ–ø—Ä–æ—Å 8.1: –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤—å—Ç–µ time-based —Ñ–∏–ª—å—Ç—Ä—ã

```python
# –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞
'trading_hours': {
    'asian_session': (0, 8, 'bool'),    # 00:00-08:00 UTC
    'european_session': (8, 16, 'bool'), # 08:00-16:00 UTC  
    'us_session': (16, 24, 'bool')      # 16:00-24:00 UTC
}
```

### –í–æ–ø—Ä–æ—Å 8.2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Flow –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

```python
class FlowIndicators:
    @staticmethod
    def flow_imbalance_ratio(buy_volume, sell_volume, window=10):
        """–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂"""
        return (buy_volume - sell_volume) / (buy_volume + sell_volume)
    
    @staticmethod
    def flow_momentum(imbalance, window=5):
        """–ú–æ–º–µ–Ω—Ç—É–º –ø–æ—Ç–æ–∫–æ–≤"""
        return imbalance.rolling(window).mean()
    
    @staticmethod
    def large_flow_detection(flow_volume, threshold_std=2):
        """–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤"""
        z_score = (flow_volume - flow_volume.rolling(50).mean()) / flow_volume.rolling(50).std()
        return z_score > threshold_std
```

### –í–æ–ø—Ä–æ—Å 8.3: –ü–µ—Ä–∏–æ–¥—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è 15-–º–∏–Ω—É—Ç–Ω–æ–≥–æ TF

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ë–æ–ª–µ–µ —É–∑–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç

```python
# –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è –∫—Ä–∏–ø—Ç–æ
adjusted_ranges = {
    'rsi_period': (10, 25),        # –ë—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–∫—Ü–∏—è
    'macd_fast': (8, 20),          # –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π
    'bollinger_period': (12, 25),  # –£—á–µ—Ç –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
    'atr_period': (8, 20)          # –ë—ã—Å—Ç—Ä–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
}
```

---

## 9. –û–ë–©–ò–ï –í–û–ü–†–û–°–´ –ü–û –ú–ï–¢–û–î–û–õ–û–ì–ò–ò

### –í–æ–ø—Ä–æ—Å 9.1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–ö–ª—é—á–µ–≤—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**
- "Genetic Algorithms for Trading System Design" (Bauer, 1994)
- "Optimization of Technical Trading Strategies" (Allen & Karjalainen, 1999)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ ML –≤ crypto trading –∏–∑ Journal of Financial Data Science

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- DEAP (Distributed Evolutionary Algorithms in Python) - –æ—Ç–ª–∏—á–Ω–∞—è –¥–ª—è –ì–ê
- Backtrader –∏–ª–∏ VectorBT –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
- PyPortfolioOpt –¥–ª—è –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞

### –í–æ–ø—Ä–æ—Å 9.2: –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≤—É—à–∫–∏:**
- –ü–µ—Ä–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö –∏–∑–¥–µ—Ä–∂–µ–∫
- Data snooping: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ù–µ–∞–¥–µ–∫–≤–∞—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:**
- –°—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ train/validation/test
- Walk-forward –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ capacity

### –í–æ–ø—Ä–æ—Å 9.3: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å –ì–ê, –∑–∞—Ç–µ–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- PSO (Particle Swarm): –•–æ—Ä–æ—à–æ –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- Bayesian Optimization: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- CMA-ES: –û—Ç–ª–∏—á–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ª–∞–Ω–¥—à–∞—Ñ—Ç–æ–≤ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏

**–ù–æ:** –ì–ê —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–º–µ—à–∞–Ω–Ω—ã—Ö (continuous + discrete) –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –í–æ–ø—Ä–æ—Å 9.4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

**–ö–ª—é—á–µ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã:**
- –°—Ö–æ–¥–∏–º–æ—Å—Ç—å: –õ—É—á—à–∞—è/—Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º
- Diversity: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø–æ–ø—É–ª—è—Ü–∏–∏
- Correlation heatmap: –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ fitness
- Pareto front: Trade-off –º–µ–∂–¥—É PnL –∏ MaxDD

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. –ù–∞—á–Ω–∏—Ç–µ —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```python
# –§–∞–∑–∞ 1: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ 3-4 –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
initial_indicators = ['RSI', 'MACD', 'Bollinger']
# –§–∞–∑–∞ 2: –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
# –§–∞–∑–∞ 3: –î–æ–±–∞–≤—å—Ç–µ Order Book –∏ Flow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
```

### 2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä–æ–≥—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

- Walk-forward —Å –º–∏–Ω–∏–º—É–º 5 –æ–∫–Ω–∞–º–∏
- Out-of-sample —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö (bull/bear/sideways)

### 3. –§–æ–∫—É—Å –Ω–∞ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–µ

**–õ—É—á—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –ø–ª–æ—Ö–∏–º —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–æ–º = —É–±—ã—Ç–æ—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**

### 4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

**–ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ 70 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å—Ä–∞–∑—É. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å.**

---

## üöÄ –î–ê–õ–¨–ù–ï–ô–®–ò–ï –®–ê–ì–ò

- **–ù–µ–¥–µ–ª—è 1-2:** –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ì–ê —Å 3 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
- **–ù–µ–¥–µ–ª—è 3-4:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Order Book –∏ Flow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- **–ù–µ–¥–µ–ª—è 5-6:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–ù–µ–¥–µ–ª—è 7-8:** –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

**–í—ã–≤–æ–¥:** –£ –≤–∞—Å –æ—Ç–ª–∏—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞! –ö–ª—é—á–µ–≤–æ–π —É—Å–ø–µ—Ö –±—É–¥–µ—Ç –≤ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

