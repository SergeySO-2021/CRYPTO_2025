# План тестирования CryptoMarket Regime Classifier

## Цель
Проверить эффективность подхода HMM + LSTM для определения рыночных режимов на наших данных BTCUSDT 15m.

## Структура проекта

### Ключевые компоненты:

1. **Feature Engineering** (`src/compute_features.py`)
   - Multi-timeframe индикаторы (5m, 15m, 1h)
   - Momentum, volatility, trend индикаторы
   - Order flow features

2. **HMM Labeling** (`src/regime_label.py`)
   - Обнаружение режимов без разметки
   - 6 режимов: Squeeze, Range, Weak Trend, Strong Trend, Choppy High-Vol, Volatility Spike
   - PCA для снижения размерности

3. **LSTM Model** (`src/lstm_model.py`)
   - Предсказание режимов на последовательностях
   - Time steps: 64 (по умолчанию)

4. **Dashboard** (`dashboard/app.py`)
   - Streamlit интерфейс для визуализации

## План тестирования

### Этап 1: Подготовка данных
- [x] Адаптировать наши данные BTCUSDT 15m, 30m, 1h под формат проекта
- [x] Проверить наличие всех необходимых колонок
- [x] Преобразовать в multi-timeframe формат (15m, 30m, 1h)
- [x] Разделить данные на train/val/test выборки

### Этап 2: Вычисление признаков
- [ ] Запустить `compute_features.py` на наших данных
- [ ] Проверить качество признаков
- [ ] Убедиться, что нет пропусков

### Этап 3: Обучение HMM
- [ ] Запустить HMM на наших признаках
- [ ] Оптимизировать количество состояний (цель: 6)
- [ ] Проверить интерпретацию режимов

### Этап 4: Обучение LSTM
- [ ] Создать последовательности из HMM меток
- [ ] Обучить LSTM модель
- [ ] Оценить точность на валидационном наборе

### Этап 5: Оценка эффективности
- [ ] Сравнить с нашим подходом (Trading Classifier)
- [ ] Проверить точность предсказаний
- [ ] Оценить стабильность режимов

## Ожидаемые результаты

- Точность классификации режимов
- Сравнение с нашим методом (4.22% точность)
- Время обучения и предсказания
- Интерпретируемость режимов

## Следующие шаги

1. Изучить код более детально
2. Адаптировать под наши данные
3. Запустить pipeline
4. Сравнить результаты

