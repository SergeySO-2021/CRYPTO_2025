# üîß –ú–ï–¢–û–î–´ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –ü–ê–†–ê–ú–ï–¢–†–û–í MARKET ZONE CLASSIFIER

## üéØ –ó–ê–î–ê–ß–ê –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

**–¶–µ–ª–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä—ã–Ω–æ—á–Ω—ã—Ö –∑–æ–Ω

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
1. `lookbackPeriod` (5-100, integer)
2. `trendThreshold` (0.1-2.0, float, step 0.1)
3. `volatilityPeriod` (5-50, integer)
4. `volatilityThreshold` (0.5-3.0, float, step 0.1)

**–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **Zone Stability** - –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã –∑–æ–Ω—ã
- **Zone Separation** - —á–µ—Ç–∫–æ—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏
- **Economic Value** - –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö
- **Predictive Value** - –Ω–∞—Å–∫–æ–ª—å–∫–æ –∑–æ–Ω–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ú–ï–¢–û–î–û–í –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### **1. Grid Search (–ü–µ—Ä–µ–±–æ—Ä —Å–µ—Ç–∫–∏)**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–∞–π–¥–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–ø—Ç–∏–º—É–º (–≤ —Å–µ—Ç–∫–µ)
- ‚úÖ –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)
- ‚ùå –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:**
- 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ √ó 10 –∑–Ω–∞—á–µ–Ω–∏–π = 10,000 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ü—Ä–∏ 1 —Å–µ–∫—É–Ω–¥–µ –Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é = **2.7 —á–∞—Å–∞**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏ (—Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ)

---

### **2. Random Search (–°–ª—É—á–∞–π–Ω—ã–π –ø–æ–∏—Å–∫)**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ Grid Search –≤ 10-100 —Ä–∞–∑
- ‚úÖ –õ–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- ‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ—Ä–æ—à–∏–µ –æ–±–ª–∞—Å—Ç–∏
- ‚ùå –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚ùå –ú–Ω–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:**
- 100-1000 —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ü—Ä–∏ 1 —Å–µ–∫—É–Ω–¥–µ –Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é = **2-17 –º–∏–Ω—É—Ç**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê‚≠ê –•–æ—Ä–æ—à–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

---

### **3. Genetic Algorithm (–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º) ‚úÖ**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –≠–≤–æ–ª—é—Ü–∏—è –ø–æ–ø—É–ª—è—Ü–∏–∏ —Ä–µ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ –æ—Ç–±–æ—Ä, –∫—Ä–æ—Å—Å–æ–≤–µ—Ä –∏ –º—É—Ç–∞—Ü–∏—é

**–ü–ª—é—Å—ã:**
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –£–∂–µ –µ—Å—Ç—å –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–≤ MZA –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç —Ö–æ—Ä–æ—à–∏–µ —Ä–µ—à–µ–Ω–∏—è –∑–∞ —Ä–∞–∑—É–º–Ω–æ–µ –≤—Ä–µ–º—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–∂–µ—Ç –∑–∞—Å—Ç—Ä–µ–≤–∞—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–ø—Ç–∏–º—É–º–∞—Ö
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ä–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏, –º—É—Ç–∞—Ü–∏—è)
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:**
- 30-50 –ø–æ–∫–æ–ª–µ–Ω–∏–π √ó 30 –æ—Å–æ–±–µ–π = 900-1500 –æ—Ü–µ–Ω–æ–∫
- –ü—Ä–∏ 1 —Å–µ–∫—É–Ω–¥–µ –Ω–∞ –æ—Ü–µ–Ω–∫—É = **15-25 –º–∏–Ω—É—Ç**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê‚≠ê‚≠ê –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏!

---

### **4. Bayesian Optimization (–ë–∞–π–µ—Å–æ–≤—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è) üöÄ**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ü–ª—é—Å—ã:**
- ‚úÖ **–°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π** –¥–ª—è –º–∞–ª–æ–≥–æ —á–∏—Å–ª–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ü–µ–Ω–æ–∫
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –æ–ø—Ç–∏–º—É–º –∑–∞ –º–∏–Ω–∏–º—É–º –æ—Ü–µ–Ω–æ–∫
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (scikit-optimize, optuna)
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:**
- 50-100 –∏—Ç–µ—Ä–∞—Ü–∏–π –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- –ü—Ä–∏ 1 —Å–µ–∫—É–Ω–¥–µ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é = **1-2 –º–∏–Ω—É—Ç—ã**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê **–õ–£–ß–®–ò–ô –≤—ã–±–æ—Ä –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏!**

---

### **5. Particle Swarm Optimization (PSO)**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å—Ç–∞–∏ –ø—Ç–∏—Ü/—Ä—ã–±

**–ü–ª—é—Å—ã:**
- ‚úÖ –•–æ—Ä–æ—à–æ –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç —Ö–æ—Ä–æ—à–∏–µ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–æ–≤–∞—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –•—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚ùå –ú–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω —á–µ–º Bayesian –¥–ª—è –º–∞–ª–æ–≥–æ —á–∏—Å–ª–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê‚≠ê –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ

---

### **6. Hyperband/Bandit Methods**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ë—ã—Å—Ç—Ä—ã–π –æ—Ç—Å–µ–≤ –ø–ª–æ—Ö–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è deep learning

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–∞–Ω–Ω–µ–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚≠ê‚≠ê –ù–µ –Ω—É–∂–Ω–æ –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏

---

## üèÜ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: BAYESIAN OPTIMIZATION

### **–ü–æ—á–µ–º—É Bayesian Optimization –ª—É—á—à–µ –≤—Å–µ–≥–æ:**

1. **–¢–æ–ª—å–∫–æ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞** - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è Bayesian
2. **–î–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** - —Ö–æ—Ä–æ—à–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
3. **–î–æ—Ä–æ–≥–∞—è –æ—Ü–µ–Ω–∫–∞** - –Ω—É–∂–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä
4. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –Ω–∞—Ö–æ–¥–∏—Ç –æ–ø—Ç–∏–º—É–º –∑–∞ 50-100 –∏—Ç–µ—Ä–∞—Ü–∏–π

### **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**

| –ú–µ—Ç–æ–¥ | –ò—Ç–µ—Ä–∞—Ü–∏–∏ | –í—Ä–µ–º—è | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
|-------|----------|-------|---------------|
| Grid Search | 10,000 | 2.7 —á–∞—Å–∞ | ‚ùå |
| Random Search | 1,000 | 17 –º–∏–Ω—É—Ç | ‚≠ê‚≠ê‚≠ê |
| Genetic Algorithm | 1,500 | 25 –º–∏–Ω—É—Ç | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **Bayesian Optimization** | **100** | **2 –º–∏–Ω—É—Ç—ã** | **‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê** |

---

## üîß –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø BAYESIAN OPTIMIZATION

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

```python
from skopt import gp_minimize
from skopt.space import Integer, Real
from skopt.acquisition import gaussian_ei

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
space = [
    Integer(5, 100, name='lookbackPeriod'),
    Real(0.1, 2.0, name='trendThreshold'),
    Integer(5, 50, name='volatilityPeriod'),
    Real(0.5, 3.0, name='volatilityThreshold')
]

# –¶–µ–ª–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def objective(params):
    lookback, trend_thresh, vol_period, vol_thresh = params
    
    # –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∑–æ–Ω—ã —Å —ç—Ç–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    zones = classify_zones(df, lookback, trend_thresh, vol_period, vol_thresh)
    
    # –í—ã—á–∏—Å–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
    stability = calculate_zone_stability(zones)
    separation = calculate_zone_separation(zones)
    economic_value = calculate_economic_value(zones, df)
    
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ (—á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º –ª—É—á—à–µ)
    score = stability * 0.3 + separation * 0.3 + economic_value * 0.4
    
    # –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π score
    return -score

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
result = gp_minimize(
    func=objective,
    dimensions=space,
    n_calls=100,  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
    acq_func='EI',  # Expected Improvement
    n_initial_points=20,  # –ù–∞—á–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Ç–æ—á–∫–∏
    random_state=42
)

best_params = result.x
best_score = -result.fun
```

---

## üß¨ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê: –ì–ï–ù–ï–¢–ò–ß–ï–°–ö–ò–ô –ê–õ–ì–û–†–ò–¢–ú

### **–ü–æ—á–µ–º—É GA —Ç–æ–∂–µ —Ö–æ—Ä–æ—à:**

1. ‚úÖ –£–∂–µ –µ—Å—Ç—å –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (MZA –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
2. ‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
3. ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç —Ö–æ—Ä–æ—à–∏–µ —Ä–µ—à–µ–Ω–∏—è
4. ‚úÖ –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GA:**

- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

---

## üìä –ì–ò–ë–†–ò–î–ù–´–ô –ü–û–î–•–û–î (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### **–≠—Ç–∞–ø 1: –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–Ω–∏–Ω–≥ (Random Search)**
- 100-200 —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ù–∞–π—Ç–∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏
- –í—Ä–µ–º—è: 2-3 –º–∏–Ω—É—Ç—ã

### **–≠—Ç–∞–ø 2: –¢–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Bayesian Optimization)**
- –ù–∞—á–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏–∑ –≠—Ç–∞–ø–∞ 1
- 50-100 –∏—Ç–µ—Ä–∞—Ü–∏–π Bayesian
- –ù–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –í—Ä–µ–º—è: 1-2 –º–∏–Ω—É—Ç—ã

### **–≠—Ç–∞–ø 3: –í–∞–ª–∏–¥–∞—Ü–∏—è (Cross-Validation)**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö –∏—Å—Ç–æ—Ä–∏–∏
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–û–±—â–µ–µ –≤—Ä–µ–º—è: 5-8 –º–∏–Ω—É—Ç** –≤–º–µ—Å—Ç–æ —á–∞—Å–æ–≤!

---

## üéØ –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê –î–õ–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### **1. Zone Stability (–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∑–æ–Ω)**
```python
def zone_stability(zones):
    changes = (zones != zones.shift(1)).sum()
    total = len(zones)
    return 1 - (changes / total)
```

### **2. Zone Separation (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–æ–Ω)**
```python
def zone_separation(zones, returns):
    by_zone = returns.groupby(zones)
    means = by_zone.mean()
    stds = by_zone.std()
    
    # –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ä–µ–¥–Ω–∏–º–∏ –¥–æ—Ö–æ–¥–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω
    separation = means.max() - means.min()
    return separation
```

### **3. Economic Value (–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å)**
```python
def economic_value(zones, returns):
    # –°—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥ –ø–æ –∑–æ–Ω–∞–º
    by_zone = returns.groupby(zones).mean()
    
    # –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ª—É—á—à–µ–π –∏ —Ö—É–¥—à–µ–π –∑–æ–Ω–æ–π
    bull_returns = by_zone.get(1, 0) + by_zone.get(2, 0) + by_zone.get(3, 0)
    bear_returns = by_zone.get(-1, 0) + by_zone.get(-2, 0) + by_zone.get(-3, 0)
    
    return abs(bull_returns - bear_returns)
```

### **4. Combined Score (–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞)**
```python
def combined_score(zones, returns):
    stability = zone_stability(zones) * 0.3
    separation = zone_separation(zones, returns) * 0.3
    economic = economic_value(zones, returns) * 0.4
    
    return stability + separation + economic
```

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### **–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
1. **Bayesian Optimization** - 100 –∏—Ç–µ—Ä–∞—Ü–∏–π, ~2 –º–∏–Ω—É—Ç—ã
2. –ú–µ—Ç—Ä–∏–∫–∞: **Combined Score** (–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è)
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö

### **–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞:**
1. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: Random Search + Bayesian
2. –ö—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ 3-5 –ø–µ—Ä–∏–æ–¥–∞—Ö
3. –¢–µ—Å—Ç –Ω–∞ out-of-sample –¥–∞–Ω–Ω—ã—Ö

### **–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã:**
1. **Genetic Algorithm** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. 30-50 –ø–æ–∫–æ–ª–µ–Ω–∏–π, 30 –æ—Å–æ–±–µ–π
3. –ú–µ—Ç—Ä–∏–∫–∞: Economic Value

---

## üìñ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–õ—É—á—à–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏:**
- üèÜ **Bayesian Optimization** - –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π
- ü•à **Genetic Algorithm** - —Ö–æ—Ä–æ—à–æ, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –æ–ø—ã—Ç
- ü•â **Random Search** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å **Bayesian Optimization** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –∑–∞—Ç–µ–º –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö!

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —Å–æ–∑–¥–∞–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞?
