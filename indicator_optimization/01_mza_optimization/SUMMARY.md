# üìã –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞: –ü–æ—ç—Ç–∞–ø–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ –ø–æ—ç—Ç–∞–ø–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚úÖ
–°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `StagedOptimization` –≤ —Ñ–∞–π–ª–µ `staged_optimization.py`

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ notebook ‚úÖ
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —è—á–µ–π–∫–∏ –≤ `01_mza_parameter_tuning.ipynb`:
- –Ø—á–µ–π–∫–∞ 9: –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—ç—Ç–∞–ø–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –Ø—á–µ–π–∫–∞ 10: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- –Ø—á–µ–π–∫–∞ 11: –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- `STAGED_OPTIMIZATION_GUIDE.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `QUALITY_ANALYSIS.md` - –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ
- `MEMORY_OPTIMIZATION_README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| üéØ –ü–æ–ª–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ | –í—Å–µ 16 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ |
| üíæ –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ | –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, ~2-4 GB |
| ‚è±Ô∏è –ì–∏–±–∫–æ—Å—Ç—å | –ú–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∑–∂–µ |
| üìä –ö–æ–Ω—Ç—Ä–æ–ª—å | –í–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ |
| üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ | –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ notebook
```bash
cd indicator_optimization/01_mza_optimization
jupyter notebook 01_mza_parameter_tuning.ipynb
```

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —è—á–µ–π–∫–∏ 1-8
–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —è—á–µ–π–∫—É 10
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ—ç—Ç–∞–ø–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –≤ —è—á–µ–π–∫–µ 11:

**–î–ª—è –Ω–∞—á–∞–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**:
```python
staged_optimizer.run_stage('stage1_quick_test')
```

**–î–ª—è –ø–æ–ª–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
```python
staged_optimizer.run_all_stages()
```

---

## üìä –ü–ª–∞–Ω —ç—Ç–∞–ø–æ–≤

### –≠—Ç–∞–ø 1: üîÑ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
- –í—Ä–µ–º—è: 5 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –≠—Ç–∞–ø 2: ‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 1h
- –í—Ä–µ–º—è: 15 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: –û—Å–Ω–æ–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 1h

### –≠—Ç–∞–ø 3: ‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 4h
- –í—Ä–µ–º—è: 15 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: –û—Å–Ω–æ–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 4h

### –≠—Ç–∞–ø 4: üî¨ –ì–ª—É–±–æ–∫–∞—è 1h
- –í—Ä–µ–º—è: 25 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è 1h
- ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### –≠—Ç–∞–ø 5: üî¨ –ì–ª—É–±–æ–∫–∞—è 4h
- –í—Ä–µ–º—è: 25 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è 4h
- ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### –≠—Ç–∞–ø 6: üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã
- –í—Ä–µ–º—è: 20 –º–∏–Ω—É—Ç
- –¶–µ–ª—å: 15m, 30m, 1d

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **—ç—Ç–∞–ø 1** (5 –º–∏–Ω—É—Ç) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **—ç—Ç–∞–ø—ã 2-3** (30 –º–∏–Ω—É—Ç) - –æ—Å–Ω–æ–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: `staged_optimizer.get_summary_report()`

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ 6 —ç—Ç–∞–ø–æ–≤ (~1.5 —á–∞—Å–∞)
2. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–∞–ø—ã 2-3 + 4-5 (~1 —á–∞—Å)

### –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏
1. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —ç—Ç–∞–ø—ã –ø–æ –æ–¥–Ω–æ–º—É
2. –ú–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏ –¥–µ–ª–∞–π—Ç–µ `gc.collect()`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ kernel –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ —ç—Ç–∞–ø–∞–º

| –≠—Ç–∞–ø | –ö–∞—á–µ—Å—Ç–≤–æ | –í—Ä–µ–º—è |
|------|----------|-------|
| –≠—Ç–∞–ø 1 (–±—ã—Å—Ç—Ä—ã–π) | ~70% | 5 –º–∏–Ω |
| –≠—Ç–∞–ø 2-3 (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) | ~88% | 30 –º–∏–Ω |
| –≠—Ç–∞–ø 4-5 (–≥–ª—É–±–æ–∫–∞—è) | ~95% | 50 –º–∏–Ω |
| –í—Å–µ 6 —ç—Ç–∞–ø–æ–≤ | ~98% | 90 –º–∏–Ω |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

| –≠—Ç–∞–ø | –ü–∞–º—è—Ç—å |
|------|--------|
| –≠—Ç–∞–ø 1 | ~1 GB |
| –≠—Ç–∞–ø 2-3 | ~2-3 GB |
| –≠—Ç–∞–ø 4-5 | ~3-4 GB |
| –≠—Ç–∞–ø 6 | ~2-3 GB |

---

## üìÅ –ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: `optimization_results/`

```
optimization_results/
‚îú‚îÄ‚îÄ stage1_quick_test_results.json      ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ stage2_balanced_1h_results.json     ‚úÖ –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 1h
‚îú‚îÄ‚îÄ stage3_balanced_4h_results.json     ‚úÖ –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 4h
‚îú‚îÄ‚îÄ stage4_deep_1h_results.json          üî¨ –ì–ª—É–±–æ–∫–∞—è 1h
‚îú‚îÄ‚îÄ stage5_deep_4h_results.json          üî¨ –ì–ª—É–±–æ–∫–∞—è 4h
‚îî‚îÄ‚îÄ stage6_additional_timeframes_results.json  üìä –û—Å—Ç–∞–ª—å–Ω—ã–µ TF
```

---

## üéØ –ò—Ç–æ–≥

‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞**: –ö–∞—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø–∞–º—è—Ç—å —ç–∫–æ–Ω–æ–º–∏—Ç—Å—è  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã  
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**: –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ notebook

---

## üöÄ –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

–û—Ç–∫—Ä–æ–π—Ç–µ `01_mza_parameter_tuning.ipynb` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —è—á–µ–π–∫–∞—Ö 9-11.

